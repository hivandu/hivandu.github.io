<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>茶桁.MAMT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="我是茶桁，这里是我用于写字，码代码以及记录的地方。">
<meta property="og:type" content="website">
<meta property="og:title" content="茶桁.MAMT">
<meta property="og:url" content="https://hivan.me/page/10/index.html">
<meta property="og:site_name" content="茶桁.MAMT">
<meta property="og:description" content="我是茶桁，这里是我用于写字，码代码以及记录的地方。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Hivan Du">
<meta property="article:tag" content="AI,人工智能,代码,大语言模型">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="茶桁.MAMT" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">茶桁.MAMT</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">ChaHeng Notes，codding and writting ~</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hivan.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-exercise" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/exercise/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.777Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="SQL-Exercise"><a href="#SQL-Exercise" class="headerlink" title="SQL Exercise"></a>SQL Exercise</h2><ul>
<li><a href="/Data/SQL_ext_1">ext_1</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/exercise/" data-id="clid1r2gb004f56j70zp8fqnj" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-heart" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/heart/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.777Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Logistic-regression-to-diagnose-heart-disease"><a href="#Logistic-regression-to-diagnose-heart-disease" class="headerlink" title="Logistic regression to diagnose heart disease"></a>Logistic regression to diagnose heart disease</h1><blockquote>
<p>The preject source code url : <a target="_blank" rel="noopener" href="https://github.com/hivandu/colab/blob/master/AI_Data/heart.ipynb">Heart</a></p>
</blockquote>
<h2 id="load-data"><a href="#load-data" class="headerlink" title="load data"></a>load data</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;./data/heart.csv&#x27;</span>)</span><br><span class="line"><span class="comment"># the csv url: https://github.com/hivandu/colab/blob/master/AI_Data/data/heart.csv</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Print a brief summary of the data set</span></span><br><span class="line"></span><br><span class="line">data.info()</span><br><span class="line">data.shape</span><br><span class="line"></span><br><span class="line">data.target.value_counts()</span><br></pre></td></tr></table></figure>

<h2 id="The-params-meaning"><a href="#The-params-meaning" class="headerlink" title="The params meaning"></a>The params meaning</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Params	  Meaning	</span><br><span class="line">age	      年龄	</span><br><span class="line">sex	      性别(1 = 男性, 0 = 女性)</span><br><span class="line">cp	      胸部疼痛类型(值1：典型心绞痛，值2：非典型性心绞痛，值3：非心绞痛，值4：无症状）</span><br><span class="line">trestbps   血压	</span><br><span class="line">chol	   胆固醇	</span><br><span class="line">fbs	      空腹血糖（&gt; 120 mg/dl，1=真；0=假）	</span><br><span class="line">restecg	   心电图结果（0=正常，1=患有ST-T波异常，2=根据Estes的标准显示可能或确定的左心室肥大）	</span><br><span class="line">thalach	   最大心跳数	</span><br><span class="line">exang	   运动时是否心绞痛（1=有过；0=没有）</span><br><span class="line">oldpeak	   运动相对于休息的ST</span><br><span class="line">slop	   心电图ST segment的倾斜度(值1:上坡，值2:平坦，值3:下坡） 	</span><br><span class="line">ca	      透视检查看到的血管数	</span><br><span class="line">thal	   缺陷种类（3=正常；6=固定缺陷；7=可逆缺陷）</span><br><span class="line">target	   是否患病（0=否，1=是）</span><br></pre></td></tr></table></figure>

<h2 id="Perform-analysis"><a href="#Perform-analysis" class="headerlink" title="Perform analysis"></a>Perform analysis</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Change the &quot;sex&quot; column into two columns &quot;sex_0&quot; and &quot;sex_1&quot;</span></span><br><span class="line">sex = pd.get_dummies(data[<span class="string">&#x27;sex&#x27;</span>], prefix = <span class="string">&#x27;sex&#x27;</span>)        </span><br><span class="line"></span><br><span class="line"><span class="comment"># Add &quot;sex_0&quot; and &quot;sex_1&quot; to the data set. </span></span><br><span class="line">data = pd.concat([data, sex], axis = <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># And delete the sex column.</span></span><br><span class="line">data = data.drop(columns = [<span class="string">&#x27;sex&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Print out the first five lines. Check whether sex_0, sex_1 are added successfully, and whether sex is deleted successfully.</span></span><br><span class="line">data.head()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get sample label</span></span><br><span class="line">data_y = data.target.values</span><br><span class="line">data_y.shape</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get sample feature set</span></span><br><span class="line">data_x = data.drop([<span class="string">&#x27;target&#x27;</span>], axis = <span class="number">1</span>)</span><br><span class="line">data_x.shape</span><br><span class="line"></span><br><span class="line"><span class="comment"># Divide the data set</span></span><br><span class="line">train_x, test_x, train_y, test_y = train_test_split(data_x, data_y, test_size = <span class="number">0.3</span>, random_state=<span class="number">33</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Normalization"><a href="#Normalization" class="headerlink" title="Normalization"></a>Normalization</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># initialize</span></span><br><span class="line">ss = StandardScaler()</span><br><span class="line"></span><br><span class="line"><span class="comment"># The fit function/module is used to train model parameters</span></span><br><span class="line">ss.fit(train_x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Standardize the training set and test set</span></span><br><span class="line">train_x = ss.transform(train_x)</span><br><span class="line">test_x = ss.transform(test_x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define a logistic regression model</span></span><br><span class="line">lr = LogisticRegression()</span><br><span class="line">lr.fit(train_x, train_y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate the training set score</span></span><br><span class="line">lr.score(train_x, train_y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate test set score</span></span><br><span class="line">lr.score(test_x, test_y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use the classification_report function to display a text report of the main classification indicators</span></span><br><span class="line">predict = lr.predict(test_x)</span><br><span class="line"><span class="built_in">print</span>(classification_report(test_y, predict))</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/heart/" data-id="clid1r2ge005d56j78rahfgqh" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Assignment" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/Assignment/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Finish-the-search-problem"><a href="#Finish-the-search-problem" class="headerlink" title="Finish the search problem"></a>Finish the search problem</h1><blockquote>
<p>The code address of this article is: <a target="_blank" rel="noopener" href="https://github.com/hivandu/practise/blob/master/MicsoftAINine/example_01_Assignment.ipynb">example_01_Assignment</a></p>
</blockquote>
<h3 id="Please-read-the-answer-below-after-thinking-for-yourself"><a href="#Please-read-the-answer-below-after-thinking-for-yourself" class="headerlink" title="Please read the answer below after thinking for yourself"></a>Please read the answer below after thinking for yourself</h3><p>Please using the search policy to implement an agent.<br>This agent receives two input, one is @param start station and the other is @param destination.<br>Your agent should give the optimal route based on Beijing Subway system. </p>
<img src="http://jtapi.bendibao.com/ditie/inc/bj/xianluda.gif" alt="图片替换文本" width="900" height="900" align="bottom" />

<h4 id="Dataflow"><a href="#Dataflow" class="headerlink" title="Dataflow:"></a>Dataflow:</h4><h5 id="1-Get-data-from-web-page"><a href="#1-Get-data-from-web-page" class="headerlink" title="1.	Get data from web page."></a>1.	Get data from web page.</h5><blockquote>
<p>a.	Get web page source from: <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%8C%97%E4%BA%AC%E5%9C%B0%E9%93%81/408485">https://baike.baidu.com/item/%E5%8C%97%E4%BA%AC%E5%9C%B0%E9%93%81/408485</a></p>
</blockquote>
<blockquote>
<p>b.	You may need @package <strong>requests</strong> <a target="_blank" rel="noopener" href="https://2.python-requests.org/en/master/">https://2.python-requests.org/en/master/</a> page to get the response via url</p>
</blockquote>
<blockquote>
<p>c.	You may need save the page source to file system.</p>
</blockquote>
<blockquote>
<p>d.	The target of this step is to get station information of all the subway lines;</p>
</blockquote>
<blockquote>
<p>e.	You may need install @package beautiful soup <a target="_blank" rel="noopener" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">https://www.crummy.com/software/BeautifulSoup/bs4/doc/</a>  to get the url information, or just use &gt; Regular Expression to get the url.  Our recommendation is that using the Regular Expression and BeautiflSoup both. </p>
</blockquote>
<blockquote>
<p>f.	You may need BFS to get all the related page url from one url.<br>Question: Why do we use BFS to traverse web page (or someone said, build a web spider)?  Can DFS do this job? which is better? </p>
</blockquote>
<h5 id="2-Preprocessing-data-from-page-source"><a href="#2-Preprocessing-data-from-page-source" class="headerlink" title="2.	Preprocessing data from page source."></a>2.	Preprocessing data from page source.</h5><blockquote>
<p>a.	Based on the page source gotten from url. You may need some more preprocessing of the page. </p>
</blockquote>
<blockquote>
<p>b.	the Regular Expression you may need to process the text information.</p>
</blockquote>
<blockquote>
<p>c.	You may need @package networkx, @package matplotlib to visualize data. </p>
</blockquote>
<blockquote>
<p>d.	You should build a dictionary or graph which could represent the connection information of Beijing subway routes. </p>
</blockquote>
<blockquote>
<p>e.	You may need the defaultdict, set data structures to implement this procedure. </p>
</blockquote>
<h5 id="3-Build-the-search-agent"><a href="#3-Build-the-search-agent" class="headerlink" title="3. Build the search agent"></a>3. Build the search agent</h5><blockquote>
<p>Build the search agent based on the graph we build.</p>
</blockquote>
<p>for example, when you run: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; search(&#x27;奥体中心&#x27;, &#x27;天安门&#x27;) </span><br></pre></td></tr></table></figure>
<p>you need get the result: </p>
<p>奥体中心-&gt; A -&gt; B -&gt; C -&gt; … -&gt; 天安门</p>
<h4 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h4><p>超文本传输协议（HTTP，HyperText Transfer Protocol）是互联网上应用最为广泛的一种网络协议。所有的www文件都必须遵守这个标准。  </p>
<p>HTTP用于客户端和服务器之间的通信。协议中规定了客户端应该按照什么格式给服务器发送请求，同时也约定了服务端返回的响应结果应该是什么格式。    </p>
<p>请求访问文本或图像等信息的一端称为客户端，而提供信息响应的一端称为服务器端。 </p>
<p>客户端告诉服务器请求访问信息的方法：</p>
<ul>
<li>Get 获得内容</li>
<li>Post 提交表单来爬取需要登录才能获得数据的网站</li>
<li>put 传输文件</li>
</ul>
<p>更多参考：<br><a target="_blank" rel="noopener" href="https://www.runoob.com/http/http-status-codes.html">HTTP请求状态</a><br>了解200 404 503</p>
<ul>
<li>200 OK      &#x2F;&#x2F;客户端请求成功</li>
<li>404 Not Found  &#x2F;&#x2F;请求资源不存在，eg：输入了错误的URL</li>
<li>503 Server Unavailable  &#x2F;&#x2F;服务器当前不能处理客户端的请求，一段时间后可能恢复正常。</li>
</ul>
<h4 id="Requests"><a href="#Requests" class="headerlink" title="Requests"></a>Requests</h4><p>纯粹HTML格式的网页通常被称为静态网页，静态网页的数据比较容易获取。<br>在静态网页抓取中，有一个强大的Requests库能够让你轻易地发送HTTP请求。  </p>
<h4 id="在终端上安装-Requests"><a href="#在终端上安装-Requests" class="headerlink" title="在终端上安装 Requests"></a>在终端上安装 Requests</h4><p>pip install requents</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取响应内容</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># get（输入你想要抓去的网页地址）</span></span><br><span class="line">r = requests.get(<span class="string">&#x27;https://www.baidu.com/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;文本编码：（服务器使用的文本编码）&#x27;</span>, r.encoding)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;响应状态码：（200表示成功）&#x27;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;字符串方式的响应体：（服务器响应的内容）&#x27;</span>, r.text)</span><br></pre></td></tr></table></figure>

<h4 id="拓展知识："><a href="#拓展知识：" class="headerlink" title="拓展知识："></a>拓展知识：</h4><ul>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23374078">Unicode和UTF-8有什么区别?(盛世唐朝回答)</a></li>
</ul>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p>正则表达式的思想是你在人群中寻找你的男朋友&#x2F;女朋友，他&#x2F;她在你心里非常有特点。<br>同样，从一堆文本中找到需要的内容，我们可以采用正则表达式。</p>
<p>正经点说，是以一定的模式来进行字符串的匹配。<br>掌握正则表达式需要非常多的时间，我们可以先入门，在以后的工作中遇到，可更加深入研究。</p>
<p>使用正则表达式有如下步骤：</p>
<ul>
<li>寻找【待找到的信息】特点</li>
<li>使用符号找到特点</li>
<li>获得信息</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请先运行一下、看一下有什么参数？</span></span><br><span class="line"><span class="comment"># 请思考，找到会返回什么？没找到会返回什么？</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="built_in">help</span>(re.<span class="keyword">match</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请运行之后、思考 match 与 search 的区别?</span></span><br><span class="line"></span><br><span class="line">m = re.search(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;seafood&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"><span class="built_in">print</span>(m.group())</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-------------------------&#x27;</span>)</span><br><span class="line"></span><br><span class="line">m = re.<span class="keyword">match</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;seafood&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"><span class="comment">#### `search`是搜索字符串中首次出现的位置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配多个字符串 |</span></span><br><span class="line">m = re.<span class="keyword">match</span>(<span class="string">&#x27;bat|bet|bit&#x27;</span>, <span class="string">&#x27;bat&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配任意单个字符 .</span></span><br><span class="line">m = re.<span class="keyword">match</span>(<span class="string">&#x27;.end&#x27;</span>, <span class="string">&#x27;kend&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br><span class="line"></span><br><span class="line">m = re.<span class="keyword">match</span>(<span class="string">&#x27;.end&#x27;</span>, <span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串集合 []</span></span><br><span class="line">m = re.<span class="keyword">match</span>(<span class="string">&#x27;[cr][23][dp][o2]&#x27;</span>, <span class="string">&#x27;c3p2&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># []   与 |是不同的</span></span><br><span class="line">m = re.<span class="keyword">match</span>(<span class="string">&#x27;c3po|r2d2&#x27;</span>, <span class="string">&#x27;c3p2&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="给大家提供一个字典，供大家查询～"><a href="#给大家提供一个字典，供大家查询～" class="headerlink" title="给大家提供一个字典，供大家查询～"></a>给大家提供一个字典，供大家查询～</h4><table class="wikitable">
  <tbody>
    <tr>
      <th style="text-align:center;" width="20%">字符</th>
      <th style="text-align:center;" width="90%">描述</th>
    </tr>
    <tr>
      <th style="text-align:center;">\</th>
      <td style="text-align:left;"> 将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“<code>n</code>”匹配字符“<code>n</code>”。“<code>\n</code>”匹配一个换行符。串行“<code>\\</code>”匹配“<code>\</code>”而“<code>\(</code>”则匹配“<code>(</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">^</th>
      <td style="text-align:left;">匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“<code>\n</code>”或“<code>\r</code>”之后的位置。</td>
    </tr>
    <tr>
      <th style="text-align:center;"> \* </th>
      <td style="text-align:left;">匹配前面的子表达式零次或多次。例如，zo\*能匹配“<code>z</code>”以及“<code>zoo</code>”。\* 等价于{0,}。</td>
    </tr>
    <tr>
      <th style="text-align:center;">+</th>
      <td style="text-align:left;">匹配前面的子表达式一次或多次。例如，“<code>zo+</code>”能匹配“<code>zo</code>”以及“<code>zoo</code>”，但不能匹配“<code>z</code>”。+等价于{1,}。</td>
    </tr>
    <tr>
      <th style="text-align:center;">?</th>
      <td style="text-align:left;">匹配前面的子表达式零次或一次。例如，“<code>do(es)?</code>”可以匹配“<code>does</code>”或“<code>does</code>”中的“<code>do</code>”。?等价于{0,1}。</td>
    </tr>
    <tr>
      <th style="text-align:center;">{<span style="font-family:Times New Roman; font-style:italic;">n</span>}</th>
      <td style="text-align:left;"><span style="font-family:Times New Roman; font-style:italic;">n</span>是一个非负整数。匹配确定的<span style="font-family:Times New Roman; font-style:italic;">n</span>次。例如，“<code>o&#123;2&#125;</code>”不能匹配“<code>Bob</code>”中的“<code>o</code>”，但是能匹配“<code>food</code>”中的两个o。</td>
    </tr>
    <tr>
      <th style="text-align:center;">{<span style="font-family:Times New Roman; font-style:italic;">n</span>,}</th>
      <td style="text-align:left;"><span style="font-family:Times New Roman; font-style:italic;">n</span>是一个非负整数。至少匹配<span style="font-family:Times New Roman; font-style:italic;">n</span>次。例如，“<code>o&#123;2,&#125;</code>”不能匹配“<code>Bob</code>”中的“<code>o</code>”，但能匹配“<code>foooood</code>”中的所有o。“<code>o&#123;1,&#125;</code>”等价于“<code>o+</code>”。“<code>o&#123;0,&#125;</code>”则等价于“<code>o*</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">{<span style="font-family:Times New Roman; font-style:italic;">n</span>,<span style="font-family:Times New Roman; font-style:italic;">m</span>}</th>
      <td style="text-align:left;"><span style="font-family:Times New Roman; font-style:italic;">m</span>和<span style="font-family:Times New Roman; font-style:italic;">n</span>均为非负整数，其中<span style="font-family:Times New Roman; font-style:italic;">n</span>&lt;=<span style="font-family:Times New Roman; font-style:italic;">m</span>。最少匹配<span style="font-family:Times New Roman; font-style:italic;">n</span>次且最多匹配<span style="font-family:Times New Roman; font-style:italic;">m</span>次。例如，“<code>o&#123;1,3&#125;</code>”将匹配“<code>fooooood</code>”中的前三个o。“<code>o&#123;0,1&#125;</code>”等价于“<code>o?</code>”。请注意在逗号和两个数之间不能有空格。</td>
    </tr>
    <tr>
      <th style="text-align:center;">?</th>
      <td style="text-align:left;">当该字符紧跟在任何一个其他限制符（*,+,?，{<span style="font-family:Times New Roman; font-style:italic;">n</span>}，{<span style="font-family:Times New Roman; font-style:italic;">n</span>,}，{<span style="font-family:Times New Roman; font-style:italic;">n</span>,<span style="font-family:Times New Roman; font-style:italic;">m</span>}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“<code>oooo</code>”，“<code>o+?</code>”将匹配单个“<code>o</code>”，而“<code>o+</code>”将匹配所有“<code>o</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">.</th>
      <td style="text-align:left;">匹配除“<code>\</code><span style="font-family:Times New Roman; font-style:italic;"><code>n</code></span>”之外的任何单个字符。要匹配包括“<code>\</code><span style="font-family:Times New Roman; font-style:italic;"><code>n</code></span>”在内的任何字符，请使用像“<code>(.|\n)</code>”的模式。</td>
    </tr>
    <tr>
      <th style="text-align:center;">(pattern)</th>
      <td style="text-align:left;">匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“<code>\(</code>”或“<code>\)</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">(?:pattern)</th>
      <td style="text-align:left;">匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“<code>(|)</code>”来组合一个模式的各个部分是很有用。例如“<code>industr(?:y|ies)</code>”就是一个比“<code>industry|industries</code>”更简略的表达式。</td>
    </tr>
    <tr>
      <th style="text-align:center;">(?=pattern)</th>
      <td style="text-align:left;">正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“<code>Windows(?=95|98|NT|2000)</code>”能匹配“<code>Windows2000</code>”中的“<code>Windows</code>”，但不能匹配“<code>Windows3.1</code>”中的“<code>Windows</code>”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</td>
    </tr>
    <tr>
      <th style="text-align:center;">(?!pattern)</th>
      <td style="text-align:left;">正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“<code>Windows(?!95|98|NT|2000)</code>”能匹配“<code>Windows3.1</code>”中的“<code>Windows</code>”，但不能匹配“<code>Windows2000</code>”中的“<code>Windows</code>”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始</td>
    </tr>
    <tr>
      <th style="text-align:center;">(?&lt;=pattern)</th>
      <td style="text-align:left;">反向肯定预查，与正向肯定预查类拟，只是方向相反。例如，“<code>(?&lt;=95|98|NT|2000)Windows</code>”能匹配“<code>2000Windows</code>”中的“<code>Windows</code>”，但不能匹配“<code>3.1Windows</code>”中的“<code>Windows</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">(?&lt;!pattern)</th>
      <td style="text-align:left;">反向否定预查，与正向否定预查类拟，只是方向相反。例如“<code>(?&lt;!95|98|NT|2000)Windows</code>”能匹配“<code>3.1Windows</code>”中的“<code>Windows</code>”，但不能匹配“<code>2000Windows</code>”中的“<code>Windows</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">x|y</th>
      <td style="text-align:left;">匹配x或y。例如，“<code>z|food</code>”能匹配“<code>z</code>”或“<code>food</code>”。“<code>(z|f)ood</code>”则匹配“<code>zood</code>”或“<code>food</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">[xyz]</th>
      <td style="text-align:left;">字符集合。匹配所包含的任意一个字符。例如，“<code>[abc]</code>”可以匹配“<code>plain</code>”中的“<code>a</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">[^xyz]</th>
      <td style="text-align:left;">负值字符集合。匹配未包含的任意字符。例如，“<code>[^abc]</code>”可以匹配“<code>plain</code>”中的“<code>p</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">[a-z]</th>
      <td style="text-align:left;">字符范围。匹配指定范围内的任意字符。例如，“<code>[a-z]</code>”可以匹配“<code>a</code>”到“<code>z</code>”范围内的任意小写字母字符。</td>
    </tr>
    <tr>
      <th style="text-align:center;">[^a-z]</th>
      <td style="text-align:left;">负值字符范围。匹配任何不在指定范围内的任意字符。例如，“<code>[^a-z]</code>”可以匹配任何不在“<code>a</code>”到“<code>z</code>”范围内的任意字符。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\b</th>
      <td style="text-align:left;">匹配一个单词边界，也就是指单词和空格间的位置。例如，“<code>er\b</code>”可以匹配“<code>never</code>”中的“<code>er</code>”，但不能匹配“<code>verb</code>”中的“<code>er</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\B</th>
      <td style="text-align:left;">匹配非单词边界。“<code>er\B</code>”能匹配“<code>verb</code>”中的“<code>er</code>”，但不能匹配“<code>never</code>”中的“<code>er</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\cx</th>
      <td style="text-align:left;">匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“<code>c</code>”字符。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\d</th>
      <td style="text-align:left;">匹配一个数字字符。等价于[0-9]。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\D</th>
      <td style="text-align:left;">匹配一个非数字字符。等价于[^0-9]。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\f</th>
      <td style="text-align:left;">匹配一个换页符。等价于\x0c和\cL。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\n</th>
      <td style="text-align:left;">匹配一个换行符。等价于\x0a和\cJ。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\r</th>
      <td style="text-align:left;">匹配一个回车符。等价于\x0d和\cM。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\s</th>
      <td style="text-align:left;">匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\S</th>
      <td style="text-align:left;">匹配任何非空白字符。等价于[^ \f\n\r\t\v]。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\t</th>
      <td style="text-align:left;">匹配一个制表符。等价于\x09和\cI。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\v</th>
      <td style="text-align:left;">匹配一个垂直制表符。等价于\x0b和\cK。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\w</th>
      <td style="text-align:left;">匹配包括下划线的任何单词字符。等价于“<code>[A-Za-z0-9_]</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\W</th>
      <td style="text-align:left;">匹配任何非单词字符。等价于“<code>[^A-Za-z0-9_]</code>”。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\x<span style="font-family:Times New Roman; font-style:italic;">n</span></th>
      <td style="text-align:left;">匹配<span style="font-family:Times New Roman; font-style:italic;">n</span>，其中<span style="font-family:Times New Roman; font-style:italic;">n</span>为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“<code>\x41</code>”匹配“<code>A</code>”。“<code>\x041</code>”则等价于“<code>\x04&amp;1</code>”。正则表达式中可以使用ASCII编码。.</td>
    </tr>
    <tr>
      <th style="text-align:center;">\<span style="font-family:Times New Roman; font-style:italic;">num</span></th>
      <td style="text-align:left;">匹配<span style="font-family:Times New Roman; font-style:italic;">num</span>，其中<span style="font-family:Times New Roman; font-style:italic;">num</span>是一个正整数。对所获取的匹配的引用。例如，“<code>(.)\1</code>”匹配两个连续的相同字符。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\<span style="font-family:Times New Roman; font-style:italic;">n</span></th>
      <td style="text-align:left;">标识一个八进制转义值或一个向后引用。如果\<span style="font-family:Times New Roman; font-style:italic;">n</span>之前至少<span style="font-family:Times New Roman; font-style:italic;">n</span>个获取的子表达式，则<span style="font-family:Times New Roman; font-style:italic;">n</span>为向后引用。否则，如果<span style="font-family:Times New Roman; font-style:italic;">n</span>为八进制数字（0-7），则<span style="font-family:Times New Roman; font-style:italic;">n</span>为一个八进制转义值。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\<span style="font-family:Times New Roman; font-style:italic;">nm</span></th>
      <td style="text-align:left;">标识一个八进制转义值或一个向后引用。如果\<span style="font-family:Times New Roman; font-style:italic;">nm</span>之前至少有<span style="font-family:Times New Roman; font-style:italic;">nm</span>个获得子表达式，则<span style="font-family:Times New Roman; font-style:italic;">nm</span>为向后引用。如果\<span style="font-family:Times New Roman; font-style:italic;">nm</span>之前至少有<span style="font-family:Times New Roman; font-style:italic;">n</span>个获取，则<span style="font-family:Times New Roman; font-style:italic;">n</span>为一个后跟文字<span style="font-family:Times New Roman; font-style:italic;">m</span>的向后引用。如果前面的条件都不满足，若<span style="font-family:Times New Roman; font-style:italic;">n</span>和<span style="font-family:Times New Roman; font-style:italic;">m</span>均为八进制数字（0-7），则\<span style="font-family:Times New Roman; font-style:italic;">nm</span>将匹配八进制转义值<span style="font-family:Times New Roman; font-style:italic;">nm</span>。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\<span style="font-family:Times New Roman; font-style:italic;">nml</span></th>
      <td style="text-align:left;">如果<span style="font-family:Times New Roman; font-style:italic;">n</span>为八进制数字（0-3），且<span style="font-family:Times New Roman; font-style:italic;">m和l</span>均为八进制数字（0-7），则匹配八进制转义值<span style="font-family:Times New Roman; font-style:italic;">nm</span>l。</td>
    </tr>
    <tr>
      <th style="text-align:center;">\u<span style="font-family:Times New Roman; font-style:italic;">n</span></th>
      <td style="text-align:left;">匹配<span style="font-family:Times New Roman; font-style:italic;">n</span>，其中<span style="font-family:Times New Roman; font-style:italic;">n</span>是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（©）。</td>
    </tr>
  </tbody>
</table>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配电子邮件地址</span></span><br><span class="line">patt = <span class="string">&#x27;\w+@(\w+\.)?\w+\.com&#x27;</span></span><br><span class="line">m = re.<span class="keyword">match</span>(patt, <span class="string">&#x27;nobody@xxx.com&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配QQ</span></span><br><span class="line">m = re.search(<span class="string">&#x27;[1-9][0-9]&#123;4,&#125;&#x27;</span>, <span class="string">&#x27;这是我的QQ号781504542,第二个qq号：10054422288&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.group()) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># findall() 是search的升级版，可以找到所有匹配的字符串</span></span><br><span class="line"></span><br><span class="line">m = re.findall(<span class="string">&#x27;[1-9][0-9]&#123;4,&#125;&#x27;</span>, <span class="string">&#x27;这是我的QQ号781504542,第二个qq号：10054422288&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m) <span class="keyword">if</span> m <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&#x27;None&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>了解了怎么使用，下面进入实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get the data (subway for beijing ,from amap)</span></span><br><span class="line"><span class="comment"># 你需要用到以下的包</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">r = requests.get(<span class="string">&#x27;http://map.amap.com/service/subway?_1469083453978&amp;srhdata=1100_drw_beijing.json&#x27;</span>)</span><br><span class="line">r.text</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_lines_stations_info</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="comment"># Please write your code here</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Traverse the text format data to form the location data structure</span></span><br><span class="line">    <span class="comment"># Dict of all line information: key: line name; value: list of site names</span></span><br><span class="line">    lines_info = &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># A dict of all site information: key: site name; value: site coordinates (x, y)</span></span><br><span class="line">    stations_info = &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lines_list)):</span><br><span class="line">        <span class="comment"># Several questions you may need to think about, get &quot;Metro line name, station information list, station name, coordinates (x, y), add data to the information dict of the station, add data to the subway line dict&quot;</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">lines_info, stations_info = get_lines_stations_info(r.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># According to the route information, establish the site adjacency table dict</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_neighbor_info</span>(<span class="params">lines_info</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Add str2 to the adjacency list of site str1</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_neighbor_dict</span>(<span class="params">info, str1, str2</span>):</span><br><span class="line">        <span class="comment"># Please write code here</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> neighbor_info</span><br><span class="line">        </span><br><span class="line">neighbor_info = get_neighbor_info(lines_info)</span><br><span class="line">neighbor_info</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw subway map</span></span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># If Chinese characters cannot be displayed, please refer to</span></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># matplotlib.rcParams[&#x27;font.family&#x27;]=&#x27;sans-serif&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can use recursion to find all paths</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path_DFS_ALL</span>(<span class="params">lines_info, neighbor_info, from_station, to_station</span>):</span><br><span class="line">    <span class="comment"># Recursive algorithm, essentially depth first</span></span><br><span class="line">    <span class="comment"># Traverse all paths</span></span><br><span class="line">    <span class="comment"># In this case, the coordinate distance between the sites is difficult to transform into a reliable heuristic function, so only a simple BFS algorithm is used</span></span><br><span class="line">    <span class="comment"># Check input site name</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_next_station_DFS_ALL</span>(<span class="params">node, neighbor_info, to_station</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can also use the second algorithm: simple breadth first without heuristic function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path_BFS</span>(<span class="params">lines_info, neighbor_info, from_station, to_station</span>):</span><br><span class="line">    <span class="comment"># Search strategy: take the number of stations as the cost (because the ticket price is calculated by station)</span></span><br><span class="line">    <span class="comment"># In this case, the coordinate distance between the sites is difficult to transform into a reliable heuristic function, so only a simple BFS algorithm is used</span></span><br><span class="line">    <span class="comment"># Since the cost of each layer is increased by 1, the cost of each layer is the same, and it does not matter whether it is calculated or not, so it is omitted</span></span><br><span class="line">    <span class="comment"># Check input site name</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can also use the third algorithm: heuristic search with path distance as the cost</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path_Astar</span>(<span class="params">lines_info, neighbor_info, stations_info, from_station, to_station</span>):</span><br><span class="line">    <span class="comment"># Search strategy: the straight-line distance between the stations of the route is accumulated as the cost, and the straight-line distance from the current station to the target is used as the heuristic function</span></span><br><span class="line">    <span class="comment"># Check input site name</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>As much as you can to use the already implemented search agent. You just need to define the <strong>is_goal()</strong>, <strong>get_successor()</strong>, <strong>strategy()</strong> three functions. </p>
<blockquote>
<p>a.	Define different policies for transfer system. </p>
</blockquote>
<blockquote>
<p>b.	Such as Shortest Path Priority（路程最短优先）, Minimum Transfer Priority(最少换乘优先), Comprehensive Priority(综合优先)</p>
</blockquote>
<blockquote>
<p>c.	Implement Continuous transfer. Based on the Agent you implemented, please add this feature: Besides the @param start and @param destination two stations, add some more stations, we called @param by_way, it means, our path should from the start and end, but also include the  @param by_way stations. </p>
</blockquote>
<p>e.g </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. Input:  start=A,  destination=B, by_way=[C] </span><br><span class="line">    Output: [A, … .., C, …. B]</span><br><span class="line">2. Input: start=A, destination=B, by_way=[C, D, E]</span><br><span class="line">    Output: [A … C … E … D … B]  </span><br><span class="line">    # based on your policy, the E station could be reached firstly. </span><br></pre></td></tr></table></figure>

<h2 id="The-Answer"><a href="#The-Answer" class="headerlink" title="The Answer"></a>The Answer</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># get the data (subway for beijing ,from amap)</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">r = requests.request(<span class="string">&#x27;GET&#x27;</span>, url = <span class="string">&#x27;http://map.amap.com/service/subway?_1469083453978&amp;srhdata=1100_drw_beijing.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_lines_stations_info</span>(<span class="params">text</span>):</span><br><span class="line"></span><br><span class="line">    lines_info = &#123;&#125;</span><br><span class="line">    stations_info = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;&quot;st&quot;.*?&quot;kn&quot;&#x27;</span>)</span><br><span class="line">    lines_list = pattern.findall(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lines_list)):</span><br><span class="line">        pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;&quot;ln&quot;:&quot;.*?&quot;&#x27;</span>)</span><br><span class="line">        line_name = pattern.findall(lines_list[i])[<span class="number">0</span>][<span class="number">6</span>:-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;&quot;rs&quot;.*?&quot;sp&quot;&#x27;</span>)</span><br><span class="line">        temp_list = pattern.findall(lines_list[i])</span><br><span class="line">        station_name_list = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(temp_list)):</span><br><span class="line"></span><br><span class="line">            pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;&quot;n&quot;:&quot;.*?&quot;&#x27;</span>)</span><br><span class="line">            station_name = pattern.findall(temp_list[j])[<span class="number">0</span>][<span class="number">5</span>:-<span class="number">1</span>]</span><br><span class="line">            station_name_list.append(station_name)</span><br><span class="line"></span><br><span class="line">            pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;&quot;sl&quot;:&quot;.*?&quot;&#x27;</span>)</span><br><span class="line">            position = <span class="built_in">tuple</span>(<span class="built_in">map</span>(<span class="built_in">float</span>, pattern.findall(temp_list[j])[<span class="number">0</span>][<span class="number">6</span>:-<span class="number">1</span>].split(<span class="string">&#x27;,&#x27;</span>)))</span><br><span class="line">            </span><br><span class="line">            stations_info[station_name] = position</span><br><span class="line"></span><br><span class="line">        lines_info[line_name]  = station_name_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> lines_info, stations_info</span><br><span class="line"></span><br><span class="line">lines_info, stations_info = get_lines_stations_info(r.text)</span><br><span class="line"><span class="comment"># print(stations_info)</span></span><br><span class="line"><span class="comment"># print(lines_info)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span>(lines_info)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_neighbor_info</span>(<span class="params">lines_info</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_neighbor_dict</span>(<span class="params">info, str1, str2</span>):</span><br><span class="line">        list1 = info.get(str1)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list1:</span><br><span class="line">            list1 = []</span><br><span class="line">        list1.append(str2)</span><br><span class="line">        info[str1] = list1</span><br><span class="line">        <span class="keyword">return</span> info</span><br><span class="line"></span><br><span class="line">    neighbor_info = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> line_name, station_list <span class="keyword">in</span> lines_info.items():</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(station_list) -<span class="number">1</span>):</span><br><span class="line">            sta1 = station_list[i]</span><br><span class="line">            sta2 = station_list[i+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            neighbor_info = add_neighbor_dict(neighbor_info, sta1, sta2)</span><br><span class="line">            neighbor_info = add_neighbor_dict(neighbor_info, sta2, sta1)</span><br><span class="line">    <span class="keyword">return</span> neighbor_info</span><br><span class="line"></span><br><span class="line">neighbor_info = get_neighbor_info(lines_info)</span><br><span class="line"><span class="built_in">print</span>(neighbor_info)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]  = [<span class="string">&#x27;Arial Unicode MS&#x27;</span>]</span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.size&#x27;</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize = (<span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line">stations_graph = nx.Graph()</span><br><span class="line">stations_graph.add_nodes_from(<span class="built_in">list</span>(stations_info.keys()))</span><br><span class="line">nx.draw(stations_graph, stations_info, with_labels = <span class="literal">True</span>, node_size = <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stations_connection_graph = nx.Graph(neighbor_info)</span><br><span class="line">plt.figure(figsize = (<span class="number">30</span>, <span class="number">30</span>))</span><br><span class="line">nx.draw(stations_connection_graph, stations_info, with_labels = <span class="literal">True</span>, node_size = <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The first algorithm: recursively find all paths</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path_DFS_ALL</span>(<span class="params">lines_info, neighbor_info, from_station, to_station</span>):</span><br><span class="line">    <span class="comment"># # Recursive algorithm, essentially depth first</span></span><br><span class="line">    <span class="comment"># Traverse all paths</span></span><br><span class="line">    <span class="comment"># In this case, the coordinate distance between the sites is difficult to transform into a reliable heuristic function, so only a simple BFS algorithm is used</span></span><br><span class="line">    <span class="comment"># Check input site name</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> neighbor_info.get(from_station):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;起始站点“%s”不存在。请正确输入！&#x27;</span>%from_station)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> neighbor_info.get(to_station):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;目的站点“%s”不存在。请正确输入！&#x27;</span>%to_station)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    path = []</span><br><span class="line">    this_station = from_station</span><br><span class="line">    path.append(this_station)</span><br><span class="line">    neighbors = neighbor_info.get(this_station)</span><br><span class="line">    node = &#123;<span class="string">&#x27;pre_station&#x27;</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;this_station&#x27;</span>:this_station,</span><br><span class="line">            <span class="string">&#x27;neighbors&#x27;</span>:neighbors,</span><br><span class="line">            <span class="string">&#x27;path&#x27;</span>:path&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> get_next_station_DFS_ALL(node, neighbor_info, to_station)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_next_station_DFS_ALL</span>(<span class="params">node, neighbor_info, to_station</span>):</span><br><span class="line">    neighbors = node.get(<span class="string">&#x27;neighbors&#x27;</span>)</span><br><span class="line">    pre_station = node.get(<span class="string">&#x27;this_station&#x27;</span>)</span><br><span class="line">    path = node.get(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line">    paths = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(neighbors)):</span><br><span class="line">        this_station = neighbors[i]</span><br><span class="line">        <span class="keyword">if</span> (this_station <span class="keyword">in</span> path):</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># If this station is already in the path, it means a loop, and this road is unreachable</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> neighbors[i] == to_station:</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># Find the end, return to the path</span></span><br><span class="line">            path.append(to_station)</span><br><span class="line">            paths.append(path)</span><br><span class="line">            <span class="keyword">return</span> paths</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            neighbors_ = neighbor_info.get(this_station).copy()</span><br><span class="line">            neighbors_.remove(pre_station)</span><br><span class="line">            path_ = path.copy()</span><br><span class="line">            path_.append(this_station)</span><br><span class="line">            new_node = &#123;<span class="string">&#x27;pre_station&#x27;</span>:pre_station,</span><br><span class="line">                        <span class="string">&#x27;this_station&#x27;</span>:this_station,</span><br><span class="line">                        <span class="string">&#x27;neighbors&#x27;</span>:neighbors_,</span><br><span class="line">                        <span class="string">&#x27;path&#x27;</span>:path_&#125;</span><br><span class="line">            paths_ =  get_next_station_DFS_ALL(new_node, neighbor_info, to_station)</span><br><span class="line">            <span class="keyword">if</span> paths_:</span><br><span class="line">                paths.extend(paths_)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> paths</span><br><span class="line"></span><br><span class="line">paths = get_path_DFS_ALL(lines_info, neighbor_info, <span class="string">&#x27;回龙观&#x27;</span>, <span class="string">&#x27;西二旗&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;共有%d种路径。&#x27;</span>%<span class="built_in">len</span>(paths))</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> paths:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;此路径总计%d站:&quot;</span>%(<span class="built_in">len</span>(item)-<span class="number">1</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>.join(item))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The second algorithm: simple breadth first without heuristic function</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path_BFS</span>(<span class="params">lines_info, neighbor_info, from_station, to_station</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Search strategy: take the number of stations as the cost (because the ticket price is calculated by station)</span></span><br><span class="line">    <span class="comment"># In this case, the coordinate distance between the sites is difficult to transform into a reliable heuristic function, so only a simple BFS algorithm is used</span></span><br><span class="line">    <span class="comment"># Since the cost of each layer is increased by 1, the cost of each layer is the same, and it does not matter whether it is calculated or not, so it is omitted</span></span><br><span class="line">    <span class="comment"># Check input site name</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> neighbor_info.get(from_station):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;起始站点“%s”不存在。请正确输入！&#x27;</span>%from_station)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> neighbor_info.get(to_station):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;目的站点“%s”不存在。请正确输入！&#x27;</span>%to_station)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># The search node is a dict, key=site name, value is a list of sites that contain passing</span></span><br><span class="line">    nodes = &#123;&#125;</span><br><span class="line">    nodes[from_station] = [from_station]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        new_nodes = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> (k,v) <span class="keyword">in</span> nodes.items():</span><br><span class="line">            neighbor = neighbor_info.get(k).copy()</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">len</span>(v) &gt;= <span class="number">2</span>):</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># Do not go to the previous stop</span></span><br><span class="line">                pre_station = v[-<span class="number">2</span>]</span><br><span class="line">                neighbor.remove(pre_station)</span><br><span class="line">            <span class="keyword">for</span> station <span class="keyword">in</span> neighbor:</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># Traverse neighbors</span></span><br><span class="line">                <span class="keyword">if</span> station <span class="keyword">in</span> nodes:</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># Skip the nodes that have been searched</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                path = v.copy()</span><br><span class="line">                path.append(station)</span><br><span class="line">                new_nodes[station] = path</span><br><span class="line">                <span class="keyword">if</span> station == to_station:</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># Find the path, end</span></span><br><span class="line">                    <span class="keyword">return</span> path</span><br><span class="line">        nodes = new_nodes</span><br><span class="line">        </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;未能找到路径&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">paths = get_path_BFS(lines_info, neighbor_info, <span class="string">&#x27;回龙观&#x27;</span>, <span class="string">&#x27;西二旗&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;路径总计%d站。&quot;</span>%(<span class="built_in">len</span>(paths)-<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-&quot;</span>.join(paths))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gaode Navigation is 31 stations, only 1 transfer</span></span><br><span class="line"><span class="comment"># The result of the code is 28 stations, but there are 5 transfers</span></span><br><span class="line"><span class="comment"># Guess Gaode&#x27;s path cost is mainly time</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The third algorithm: heuristic search with path distance as the cost</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path_Astar</span>(<span class="params">lines_info, neighbor_info, stations_info, from_station, to_station</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Search strategy: the straight-line distance between the stations of the route is accumulated as the cost, and the straight-line distance from the current station to the target is used as the heuristic function</span></span><br><span class="line">    <span class="comment"># Check input site name</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> neighbor_info.get(from_station):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;起始站点“%s”不存在。请正确输入！&#x27;</span>%from_station)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> neighbor_info.get(to_station):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;目的站点“%s”不存在。请正确输入！&#x27;</span>%to_station)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Calculate the straight-line distance from all nodes to the target node, spare</span></span><br><span class="line">    distances = &#123;&#125;</span><br><span class="line">    x,y = stations_info.get(to_station)</span><br><span class="line">    <span class="keyword">for</span> (k,v) <span class="keyword">in</span> stations_info.items():</span><br><span class="line">        x0,y0 = stations_info.get(k)</span><br><span class="line">        l = ((x-x0)**<span class="number">2</span> + (y-y0)**<span class="number">2</span>)**<span class="number">0.5</span></span><br><span class="line">        distances[k] = l</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># Nodes that have been searched, dict</span></span><br><span class="line">    <span class="comment"># key=site name, value is the minimum cost from a known starting point to this site    # 已搜索过的节点，dict</span></span><br><span class="line">    searched = &#123;&#125;</span><br><span class="line">    searched[from_station] = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># The data structure is pandas dataframe</span></span><br><span class="line">    <span class="comment"># index is the site name</span></span><br><span class="line">    <span class="comment"># g is the path taken, h is the heuristic function value (the current straight-line distance to the target)</span></span><br><span class="line">    nodes = pd.DataFrame([[[from_station], <span class="number">0</span>, <span class="number">0</span>, distances.get(from_station)]],</span><br><span class="line">                         index=[from_station], columns=[<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;cost&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>]) </span><br><span class="line">    </span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> count &gt; <span class="number">1000</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        nodes.sort_values(<span class="string">&#x27;cost&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">for</span> index, node <span class="keyword">in</span> nodes.iterrows():</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># Search for the site that is the shortest from the destination among the neighbors</span></span><br><span class="line">            neighbors = neighbor_info.get(index).copy()</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(node[<span class="string">&#x27;path&#x27;</span>]) &gt;= <span class="number">2</span>:</span><br><span class="line">                </span><br><span class="line">                <span class="comment"># Do not search in the reverse direction of this path</span></span><br><span class="line">                neighbors.remove(node[<span class="string">&#x27;path&#x27;</span>][-<span class="number">2</span>])</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(neighbors)):</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">                neighbor = neighbors[i]</span><br><span class="line">                g = node[<span class="string">&#x27;g&#x27;</span>] + get_distance(stations_info, index, neighbor)</span><br><span class="line">                h = distances[neighbor]</span><br><span class="line">                cost = g + h</span><br><span class="line">                path = node[<span class="string">&#x27;path&#x27;</span>].copy()</span><br><span class="line">                path.append(neighbor)</span><br><span class="line">                <span class="keyword">if</span> neighbor == to_station:</span><br><span class="line">                    <span class="comment"># Find the goal, end</span></span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;共检索%d次。&#x27;</span>%count)</span><br><span class="line">                    <span class="keyword">return</span> path</span><br><span class="line">                <span class="keyword">if</span> neighbor <span class="keyword">in</span> searched:</span><br><span class="line">                    <span class="keyword">if</span> g &gt;= searched[neighbor]:</span><br><span class="line">                        <span class="comment"># Explain that the search path is not optimal, ignore it</span></span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        searched[neighbor] = g</span><br><span class="line">                        <span class="comment"># Modify the node information corresponding to this site</span></span><br><span class="line"><span class="comment">#                         nodes.loc[neighbor, &#x27;path&#x27;] = path # 这行总是报错</span></span><br><span class="line"><span class="comment">#                         nodes.loc[neighbor, &#x27;cost&#x27;] = cost</span></span><br><span class="line"><span class="comment">#                         nodes.loc[neighbor, &#x27;g&#x27;] = g</span></span><br><span class="line"><span class="comment">#                         nodes.loc[neighbor, &#x27;h&#x27;] = h</span></span><br><span class="line">                        <span class="comment"># I don’t know how to modify the list element in df, I can only delete and add new rows</span></span><br><span class="line">                        nodes.drop(neighbor, axis=<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">                        row = pd.DataFrame([[path, cost, g, h]],</span><br><span class="line">                                       index=[neighbor], columns=[<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;cost&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>])</span><br><span class="line">                        nodes = nodes.append(row)</span><br><span class="line">                        </span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    searched[neighbor] = g</span><br><span class="line">                    row = pd.DataFrame([[path, cost, g, h]],</span><br><span class="line">                                       index=[neighbor], columns=[<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;cost&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>])</span><br><span class="line">                    nodes = nodes.append(row)</span><br><span class="line">            <span class="comment"># All neighbors of this site have been searched, delete this node</span></span><br><span class="line">            nodes.drop(index, axis=<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># The outer for loop only runs the first row of data, and then re-sort and then calculate</span></span><br><span class="line">        <span class="keyword">continue</span>         </span><br><span class="line">        </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;未能找到路径&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_distance</span>(<span class="params">stations_info, str1, str2</span>):</span><br><span class="line">    x1,y1 = stations_info.get(str1)</span><br><span class="line">    x2,y2 = stations_info.get(str2)</span><br><span class="line">    <span class="keyword">return</span> ((x1-x2)**<span class="number">2</span> + (y1-y2)**<span class="number">2</span>)** <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">paths = get_path_Astar(lines_info, neighbor_info, stations_info, <span class="string">&#x27;回龙观&#x27;</span>, <span class="string">&#x27;西二旗&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> paths:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;路径总计%d站。&quot;</span>%(<span class="built_in">len</span>(paths)-<span class="number">1</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-&quot;</span>.join(paths))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gaode Navigation is 31 stations, only 1 transfer</span></span><br><span class="line"><span class="comment"># The code result is 28 stations, which is the same as the result with the number of subway stations as the cost, but the path is different (from the first traversal algorithm, you can see that there are 3 paths for 28 stations to reach the destination)</span></span><br><span class="line"><span class="comment"># Guess Gaode&#x27;s path cost is mainly time</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/Assignment/" data-id="clid1r2g0000n56j7ecz2g5ox" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Lecture_1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/Lecture_1/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Foundation-of-Artificial-Intelligence-Lecture-1"><a href="#Foundation-of-Artificial-Intelligence-Lecture-1" class="headerlink" title="Foundation of Artificial Intelligence - Lecture 1"></a>Foundation of Artificial Intelligence - Lecture 1</h1><h2 id="Algorithm-–-gt-Data-Structure"><a href="#Algorithm-–-gt-Data-Structure" class="headerlink" title="Algorithm –&gt; Data Structure"></a>Algorithm –&gt; Data Structure</h2><blockquote>
<p>No obvious solution &#x3D;&#x3D;&gt; Algorithm engineers do it<br>If there is a clear implementation path &#x3D;&#x3D;&gt; the person who develops the project will do it</p>
</blockquote>
<h2 id="What’s-the-Algorithm"><a href="#What’s-the-Algorithm" class="headerlink" title="What’s the Algorithm?"></a>What’s the Algorithm?</h2><blockquote>
<p>{Ace of hearts, 10 of spades, 3 of spades, 9 of hearts, 9 clubs, 4 of diamonds, J}</p>
</blockquote>
<blockquote>
<p>First: Hearts&gt; Diamonds&gt; Spades&gt; Clubs<br>Second: Numbers are arranged from small to large</p>
</blockquote>
<ol>
<li>Some people put the colors together first</li>
<li>Some people arrange the size first, and extract the colors one by one</li>
</ol>
<p>$$ 1024 –&gt;  10^3 –&gt; 1k $$<br>$$ 1024 * 1024 –&gt;  10^6 –&gt; 1M $$<br>$$ 1024 * 1024 * 1024 –&gt;  10^9 –&gt; 1G $$</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">struction-0  00011101</span><br><span class="line">struction-1  00011111 </span><br><span class="line">struction-2  00011100</span><br><span class="line">struction-3  00011101</span><br><span class="line">struction-4  00011100</span><br><span class="line">struction-5  00011001</span><br></pre></td></tr></table></figure>
<p>2.6G Hz </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fac</span>(<span class="params">n</span>): <span class="comment"># return n!</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>: </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> <span class="comment"># 返回操作</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> n * fac(n-<span class="number">1</span>) <span class="comment"># 乘法操作 + 返回操作 + 函数调用</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fac(<span class="number">1</span>)</span><br><span class="line">&gt; <span class="number">1</span></span><br><span class="line"></span><br><span class="line">fac(<span class="number">100</span>)</span><br><span class="line">&gt; <span class="number">93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000</span></span><br><span class="line"></span><br><span class="line">fac_100 = <span class="string">&quot;&quot;&quot;93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span>(fac_100)</span><br><span class="line">&gt; <span class="number">158</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?? N --&gt; fac(n)</span><br><span class="line"><span class="comment"># 乘法操作 + 返回操作 + 函数调用</span></span><br><span class="line">?? (N - <span class="number">1</span>)--&gt; fac(n-<span class="number">1</span>)</span><br><span class="line">?? N == <span class="number">100</span>  fac(N) </span><br><span class="line">??? <span class="number">99</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Object ` N --&gt; fac(n)` not found.</span><br><span class="line">Object ` (N - 1)--&gt; fac(n-1)` not found.</span><br><span class="line">Object ` N == 100  fac(N)` not found.</span><br><span class="line">Object `? 99` not found.</span><br></pre></td></tr></table></figure>

<p>$$ Time(N) - Time(N-1) &#x3D; constant $$<br>$$ Time(N-1) - Time(N-2) &#x3D; constant $$<br>$$ Time(N-2) - Time(N-3) &#x3D; constant $$<br>$$ Time(2) - Time(1) &#x3D; constant $$<br>$$ Time(N) - Time(1) &#x3D;&#x3D; (N-1)constant $$<br>$$ Time(N) &#x3D;&#x3D; (N-1)constant +  Time(1) $$<br>$$ Time(N) &#x3D;&#x3D; N * constant +  (Time(1) - constant) $$ </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/Lecture_1/" data-id="clid1r2g1001356j79so1c7nz" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SVM-based_text_classification_in_practice" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/SVM-based_text_classification_in_practice/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="SVM-based-Text-Classification-in-Practice"><a href="#SVM-based-Text-Classification-in-Practice" class="headerlink" title="SVM-based Text Classification in Practice"></a>SVM-based Text Classification in Practice</h1><blockquote>
<p>The source code: <a target="_blank" rel="noopener" href="https://github.com/hivandu/Colab/blob/master/AI_data/SVM-based%20text%20classification%20in%20practice.ipynb">SVM-based Text Classification in Practice</a></p>
</blockquote>
<blockquote>
<p>‘cnews.train.txt’ data cannot be uploaded because it is too large, so it needs to be decompressed and imported after compression.</p>
</blockquote>
<p>Use SVM to implement a simple text classification based on bag of words and support vector machine.</p>
<h2 id="import-data"><a href="#import-data" class="headerlink" title="import data"></a>import data</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import</span></span><br><span class="line"><span class="keyword">import</span> codecs</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> jieba</span><br></pre></td></tr></table></figure>

<p>Chinese news data is prepared as a sample data set. The number of training data is 50,000 and the number of test data is 10,000. All data is divided into 10 categories: sports, finance, real estate, home furnishing, education, technology, fashion, current affairs, games and entertainment . From the training text, you can load the code, view the data format and samples:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">data_train = <span class="string">&#x27;./data/cnews.train.txt&#x27;</span> <span class="comment"># training data file name  </span></span><br><span class="line">data_test = <span class="string">&#x27;./data/cnews.test.txt&#x27;</span>  <span class="comment"># test data file name</span></span><br><span class="line">vocab = <span class="string">&#x27;./data/cnews.vocab.txt&#x27;</span> <span class="comment"># dictionary</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> codecs.<span class="built_in">open</span>(data_train, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    lines = f.readlines()</span><br><span class="line"></span><br><span class="line"><span class="comment"># print sample content</span></span><br><span class="line">label, content = lines[<span class="number">0</span>].strip(<span class="string">&#x27;\r\n&#x27;</span>).split(<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">content</span><br></pre></td></tr></table></figure>

<p>Take the first item of the training data as an example to segment the loaded news data. Here I use the word segmentation function of LTP, you can also use jieba, and the segmentation results are displayed separated by “&#x2F;“ symbols.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print word segment results</span></span><br><span class="line">segment = jieba.cut(content)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;/&#x27;</span>.join(segment))</span><br></pre></td></tr></table></figure>

<p>To sort out the above logic a bit, implement a class to load training and test data and perform word segmentation.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cut data</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_line</span>(<span class="params">idx, line</span>):</span><br><span class="line">    data = <span class="built_in">tuple</span>(line.strip(<span class="string">&#x27;\r\n&#x27;</span>).split(<span class="string">&#x27;\t&#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">len</span>(data)==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    content_segged = <span class="built_in">list</span>(jieba.cut(data[<span class="number">1</span>]))</span><br><span class="line">    <span class="keyword">if</span> idx % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;line number: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(idx))</span><br><span class="line">    <span class="keyword">return</span> (data[<span class="number">0</span>], content_segged)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># data loading method</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_data</span>(<span class="params">file</span>):</span><br><span class="line">    <span class="keyword">with</span> codecs.<span class="built_in">open</span>(file, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">    data_records = [process_line(idx, line) <span class="keyword">for</span> idx, line <span class="keyword">in</span> <span class="built_in">enumerate</span>(lines)]</span><br><span class="line">    data_records = [data <span class="keyword">for</span> data <span class="keyword">in</span> data_records <span class="keyword">if</span> data <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>]</span><br><span class="line">    <span class="keyword">return</span> data_records</span><br><span class="line"></span><br><span class="line"><span class="comment"># load and process training data</span></span><br><span class="line">train_data = load_data(data_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;first training data: label &#123;&#125; segment &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(train_data[<span class="number">0</span>][<span class="number">0</span>], <span class="string">&#x27;/&#x27;</span>.join(train_data[<span class="number">0</span>][<span class="number">1</span>])))</span><br><span class="line"><span class="comment"># load and process testing data</span></span><br><span class="line">test_data = load_data(data_test)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;first testing data: label &#123;&#125; segment &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(test_data[<span class="number">0</span>][<span class="number">0</span>], <span class="string">&#x27;/&#x27;</span>.join(test_data[<span class="number">0</span>][<span class="number">1</span>])))</span><br></pre></td></tr></table></figure>

<p>After spending some time on word segmentation, you can start building a dictionary. The dictionary is built from the training set and sorted by word frequency.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">build_vocab</span>(<span class="params">train_data, thresh</span>):</span><br><span class="line">    vocab = &#123;<span class="string">&#x27;&lt;UNK&gt;&#x27;</span>: <span class="number">0</span>&#125;</span><br><span class="line">    word_count = &#123;&#125; <span class="comment"># word frequency</span></span><br><span class="line">    <span class="keyword">for</span> idx, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_data):</span><br><span class="line">        content = data[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> content:</span><br><span class="line">            <span class="keyword">if</span> word <span class="keyword">in</span> word_count:</span><br><span class="line">                word_count[word] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                word_count[word] = <span class="number">1</span></span><br><span class="line">    word_list = [(k, v) <span class="keyword">for</span> k, v <span class="keyword">in</span> word_count.items()]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;word list length: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(word_list)))</span><br><span class="line">    word_list.sort(key = <span class="keyword">lambda</span> x : x[<span class="number">1</span>], reverse = <span class="literal">True</span>) <span class="comment"># sorted by word frequency</span></span><br><span class="line">    word_list_filtered = [word <span class="keyword">for</span> word <span class="keyword">in</span> word_list <span class="keyword">if</span> word[<span class="number">1</span>] &gt; thresh]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;word list length after filtering: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(word_list_filtered)))</span><br><span class="line">    <span class="comment"># construct vocab</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> word_list_filtered:</span><br><span class="line">        vocab[word[<span class="number">0</span>]] = <span class="built_in">len</span>(vocab)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;vocab size: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(vocab))) <span class="comment"># vocab size is word list size +1 due to unk token</span></span><br><span class="line">    <span class="keyword">return</span> vocab</span><br><span class="line"></span><br><span class="line">vocab = build_vocab(train_data, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>In addition, according to category, we know that the label itself also has a “dictionary”:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">build_label_vocab</span>(<span class="params">cate_file</span>):</span><br><span class="line">    label_vocab = &#123;&#125;</span><br><span class="line">    <span class="keyword">with</span> codecs.<span class="built_in">open</span>(cate_file, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> lines <span class="keyword">in</span> f:</span><br><span class="line">            line = lines.strip().split(<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">            label_vocab[line[<span class="number">0</span>]]  = <span class="built_in">int</span>(line[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> label_vocab</span><br><span class="line"></span><br><span class="line">label_vocab = build_label_vocab(<span class="string">&#x27;./data/cnews.category.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;label vocab: <span class="subst">&#123;label_vocab&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>


<p>Next, construct the id-based training and test sets, because we only consider the bag of words, so the order of words is excluded. Constructed to look like libsvm can eat. Note that because the bag of word model</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">construct_trainable_matrix</span>(<span class="params">corpus, vocab, label_vocab, out_file</span>):</span><br><span class="line">    records = []</span><br><span class="line">    <span class="keyword">for</span> idx, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(corpus):</span><br><span class="line">        <span class="keyword">if</span> idx % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;process &#123;&#125; data&#x27;</span>.<span class="built_in">format</span>(idx))</span><br><span class="line">        label = <span class="built_in">str</span>(label_vocab[data[<span class="number">0</span>]]) <span class="comment"># label id</span></span><br><span class="line">        token_dict = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> token <span class="keyword">in</span> data[<span class="number">1</span>]:</span><br><span class="line">            token_id = vocab.get(token, <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> token_id <span class="keyword">in</span> token_dict:</span><br><span class="line">                token_dict[token_id] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                token_dict[token_id] = <span class="number">1</span></span><br><span class="line">        feature = [<span class="built_in">str</span>(<span class="built_in">int</span>(k) + <span class="number">1</span>) + <span class="string">&#x27;:&#x27;</span> + <span class="built_in">str</span>(v) <span class="keyword">for</span> k,v <span class="keyword">in</span> token_dict.items()]</span><br><span class="line">        feature_text = <span class="string">&#x27; &#x27;</span>.join(feature)</span><br><span class="line">        records.append(label + <span class="string">&#x27; &#x27;</span> + feature_text)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(out_file, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">&#x27;\n&#x27;</span>.join(records))</span><br><span class="line"></span><br><span class="line">construct_trainable_matrix(train_data, vocab, label_vocab, <span class="string">&#x27;./data/train.svm.txt&#x27;</span>)</span><br><span class="line">construct_trainable_matrix(test_data, vocab, label_vocab, <span class="string">&#x27;./data/test.svm.txt&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Training-process"><a href="#Training-process" class="headerlink" title="Training process"></a>Training process</h2><p>The remaining core model is simple: use libsvm to train the support vector machine, let your svm eat the training and test files you have processed, and then use the existing method of libsvm to train, we can change different parameter settings . The documentation of libsvm can be viewed <a target="_blank" rel="noopener" href="https://www.csie.ntu.edu.tw/~cjlin/libsvm/">here</a>, where the “-s, -t, -c” parameters are more important, and they decide what you choose Svm, your choice of kernel function, and your penalty coefficient.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> libsvm <span class="keyword">import</span> svm</span><br><span class="line"><span class="keyword">from</span> libsvm.svmutil <span class="keyword">import</span> svm_read_problem,svm_train,svm_predict,svm_save_model,svm_load_model</span><br><span class="line"></span><br><span class="line"><span class="comment"># train svm</span></span><br><span class="line">train_label, train_feature = svm_read_problem(<span class="string">&#x27;./data/train.svm.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_label[<span class="number">0</span>], train_feature[<span class="number">0</span>])</span><br><span class="line">model=svm_train(train_label,train_feature,<span class="string">&#x27;-s 0 -c 5 -t 0 -g 0.5 -e 0.1&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># predict</span></span><br><span class="line">test_label, test_feature = svm_read_problem(<span class="string">&#x27;./data/test.svm.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(test_label[<span class="number">0</span>], test_feature[<span class="number">0</span>])</span><br><span class="line">p_labs, p_acc, p_vals = svm_predict(test_label, test_feature, model)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;accuracy: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(p_acc))</span><br></pre></td></tr></table></figure>

<p>After a period of training, we can observe the experimental results. You can change different svm types, penalty coefficients, and kernel functions to optimize the results.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/SVM-based_text_classification_in_practice/" data-id="clid1r2g4001v56j75j9c49v2" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-auto_operation_weibo" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/auto_operation_weibo/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Auto-operation-Weibo"><a href="#Auto-operation-Weibo" class="headerlink" title="Auto operation Weibo"></a>Auto operation Weibo</h1><blockquote>
<p>The code address of this article is: <a target="_blank" rel="noopener" href="https://github.com/hivandu/colab/blob/master/AI_data/auto%20operation%20weibo.ipynb">auto operation weibo</a><br>Chromedrive download: <a target="_blank" rel="noopener" href="http://npm.taobao.org/mirrors/chromedriver">Taobao Mirror</a> , <strong>need to be consistent with your Chrome version</strong></p>
</blockquote>
<h2 id="auto-operation-weibo"><a href="#auto-operation-weibo" class="headerlink" title="auto operation weibo"></a>auto operation weibo</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">driver = webdriver.Chrome(<span class="string">&#x27;/Applications/chromedriver&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># login weibo</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">weibo_login</span>(<span class="params">username, password</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># open weibo index</span></span><br><span class="line">    driver.get(<span class="string">&#x27;https://passport.weibo.cn/signin/login&#x27;</span>)</span><br><span class="line">    driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># fill the info: username, password</span></span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;loginName&#x27;</span>).send_keys(username)</span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;loginPassword&#x27;</span>).send_keys(password)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># click login</span></span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;loginAction&#x27;</span>).click()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set username, password</span></span><br><span class="line">username = <span class="string">&#x27;ivandoo75@gmail.com&#x27;</span></span><br><span class="line">password = <span class="string">&#x27;ooxx&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mobile phone verification is required here, but still can’t log in fully automatically</span></span><br><span class="line">weibo_login(username, password)</span><br></pre></td></tr></table></figure>

<h2 id="follow-user"><a href="#follow-user" class="headerlink" title="follow user"></a>follow user</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_follow</span>(<span class="params">uid</span>):</span><br><span class="line">    driver.get(<span class="string">&#x27;https://m.weibo.com/u/&#x27;</span> + <span class="built_in">str</span>(uid))</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># driver.find_element_by_id(&#x27;follow&#x27;).click()</span></span><br><span class="line">    follow_button = driver.find_element_by_xpath(<span class="string">&#x27;//div[@class=&quot;btn_bed W_fl&quot;]&#x27;</span>)</span><br><span class="line">    follow_button.click()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># select group</span></span><br><span class="line">    group_button = driver.find_element_by_xpath(<span class="string">&#x27;//div[@class=&quot;list_content W_f14&quot;]/ul[@class=&quot;list_ul&quot;]/li[@class=&quot;item&quot;][2]&#x27;</span>)</span><br><span class="line">    group_button.click()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># cancel the select</span></span><br><span class="line">    cancel_button = driver.find_element_by_xpath(<span class="string">&#x27;//div[@class=&quot;W_layer_btn S_bg1&quot;]/a[@class=&quot;W_btn_b btn_34px&quot;]&#x27;</span>)</span><br><span class="line">    cancel_button.click()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 每天学点心理学UID</span></span><br><span class="line">uid = <span class="string">&#x27;1890826225&#x27;</span></span><br><span class="line">add_follow(uid)</span><br></pre></td></tr></table></figure>

<h2 id="create-text-and-publish"><a href="#create-text-and-publish" class="headerlink" title="create text and publish"></a>create text and publish</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_comment</span>(<span class="params">weibo_url, content</span>):</span><br><span class="line">    driver.get(weibo_url)</span><br><span class="line">    driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    content_textarea = driver.find_element_by_css_selector(<span class="string">&#x27;textarea.W.input&#x27;</span>).clear()</span><br><span class="line">    content_textarea = driver.find_element_by_css_selector(<span class="string">&#x27;textarea.W.input&#x27;</span>).send_keys(content)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    comment_button = driver.find_element_by_css_selector(<span class="string">&#x27;.W_btn_a&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># post the text</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">post_weibo</span>(<span class="params">content</span>):</span><br><span class="line">    <span class="comment"># go to the user index</span></span><br><span class="line">    driver.get(<span class="string">&#x27;https://weibo.com&#x27;</span>)</span><br><span class="line">    driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># click publish button</span></span><br><span class="line">    <span class="comment"># post_button = driver.find_element_by_css_selector(&#x27;[node-type=&quot;publish&quot;]&#x27;).click()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># input content word to textarea</span></span><br><span class="line">    content_textarea = driver.find_element_by_css_selector(<span class="string">&#x27;textarea.W_input[node-type=&quot;textEl&quot;]&#x27;</span>).send_keys(content)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># click publish button</span></span><br><span class="line">    post_button = driver.find_element_by_css_selector(<span class="string">&quot;[node-type=&#x27;submit&#x27;]&quot;</span>).click()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># comment the weibo</span></span><br><span class="line">weibo_url = <span class="string">&#x27;https://weibo.com/1890826225/HjjqSahwl&#x27;</span></span><br><span class="line">content= <span class="string">&#x27;here is Hivan du, Best wish to u.&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># auto send weibo</span></span><br><span class="line">content = <span class="string">&#x27;Learning is a belief!&#x27;</span></span><br><span class="line">post_weibo(content)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/auto_operation_weibo/" data-id="clid1r2g8003756j70e20054l" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-boston_analysis" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/boston_analysis/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Boston-house-analysis"><a href="#Boston-house-analysis" class="headerlink" title="Boston house analysis"></a>Boston house analysis</h1><blockquote>
<p>The source code: <a target="_blank" rel="noopener" href="https://github.com/hivandu/colab/blob/master/AI_data/boston_house.ipynb">Boston House</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import package</span></span><br><span class="line"><span class="comment"># Used to load the Boston housing price data set</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"><span class="comment"># pandas toolkit If you are unfamiliar with pandas, you can refer to the official 10-minute tutorial: https://pandas.pydata.org/pandas-docs/stable/10min.html</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># seaborn for drawing</span></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># Show drawing</span></span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = load_boston() <span class="comment"># load datase</span></span><br><span class="line"></span><br><span class="line">data.keys() <span class="comment"># Fields inside data</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data[<span class="string">&#x27;data&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Looking at the first 5 rows of the dataframe, we can see that the column names are numbers</span></span><br><span class="line">df.head(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">data[<span class="string">&#x27;feature_names&#x27;</span>] <span class="comment"># Feature name</span></span><br></pre></td></tr></table></figure>

<h2 id="The-Table-params-and-chinese-info"><a href="#The-Table-params-and-chinese-info" class="headerlink" title="The Table params and chinese info"></a>The Table params and chinese info</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">params	chinese info</span><br><span class="line">CRIM	住房所在城镇的人均犯罪率</span><br><span class="line">ZN	    住房用地超过 25000 平方尺的比例</span><br><span class="line">INDUS	住房所在城镇非零售商用土地的比例</span><br><span class="line">CHAS	有关查理斯河的虚拟变量（如果住房位于河边则为1,否则为0 ）</span><br><span class="line">NOX	    一氧化氮浓度</span><br><span class="line">RM	    每处住房的平均房间数</span><br><span class="line">AGE	    建于 1940 年之前的业主自住房比例</span><br><span class="line">DIS	    住房距离波士顿五大中心区域的加权距离</span><br><span class="line">RAD	    离住房最近的公路入口编号</span><br><span class="line">TAX     每 10000 美元的全额财产税金额</span><br><span class="line">PTRATIO	住房所在城镇的师生比例</span><br><span class="line">B	    1000(Bk-0.63)^2,其中 Bk 指代城镇中黑人的比例</span><br><span class="line">LSTAT	弱势群体人口所占比例</span><br><span class="line">MEDV	业主自住房的中位数房价（以千美元计）</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Replace numeric column names with feature names</span></span><br><span class="line">df.columns = data[<span class="string">&#x27;feature_names&#x27;</span>]</span><br><span class="line">df.head(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># The target is the house price, which is also our target value. We assign the target value to the dataframe</span></span><br><span class="line">df[<span class="string">&#x27;price&#x27;</span>] = data[<span class="string">&#x27;target&#x27;</span>]</span><br><span class="line">df.head(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># View the correlation coefficient between the feature and price, positive correlation and negative correlation</span></span><br><span class="line">sns.heatmap(df.corr(), annot=<span class="literal">True</span>, fmt=<span class="string">&#x27;.1f&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.scatter(df[<span class="string">&#x27;RM&#x27;</span>], df[<span class="string">&#x27;price&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># View the data distribution display of some features and price</span></span><br><span class="line">features = [<span class="string">&#x27;LSTAT&#x27;</span>, <span class="string">&#x27;RM&#x27;</span>]</span><br><span class="line">target = df[<span class="string">&#x27;price&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, col <span class="keyword">in</span> <span class="built_in">enumerate</span>(features):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="built_in">len</span>(features), i+<span class="number">1</span>)</span><br><span class="line">    x = df[col]</span><br><span class="line">    y = target</span><br><span class="line">    plt.scatter(x, y, marker = <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;&#123;&#125; price&#x27;</span>.<span class="built_in">format</span>(col))</span><br><span class="line">    plt.xlabel(col)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;price&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Simple example: univariate forecast price</span></span><br><span class="line">x = df[<span class="string">&#x27;RM&#x27;</span>]</span><br><span class="line">y = df[<span class="string">&#x27;price&#x27;</span>]</span><br><span class="line"></span><br><span class="line">history_notes = &#123;_x: _y <span class="keyword">for</span> _x, _y <span class="keyword">in</span> <span class="built_in">zip</span>(x,y)&#125;</span><br><span class="line"></span><br><span class="line">history_notes[<span class="number">6.575</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Find the top three prices that are closest to RM:6.57,</span></span><br><span class="line">similary_ys = [y <span class="keyword">for</span> _, y <span class="keyword">in</span> <span class="built_in">sorted</span>(history_notes.items(), key=<span class="keyword">lambda</span> x_y: (x_y[<span class="number">0</span>] - <span class="number">6.57</span>) ** <span class="number">2</span>)[:<span class="number">3</span>]]</span><br><span class="line">similary_ys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate the average of three</span></span><br><span class="line">np.mean(similary_ys)</span><br></pre></td></tr></table></figure>


<h3 id="Use-historical-data-to-predict-data-that-has-never-been-seen-before-the-most-direct-method"><a href="#Use-historical-data-to-predict-data-that-has-never-been-seen-before-the-most-direct-method" class="headerlink" title="Use historical data to predict data that has never been seen before, the most direct method"></a>Use historical data to predict data that has never been seen before, the most direct method</h3><h2 id="K-Neighbor-Nearst"><a href="#K-Neighbor-Nearst" class="headerlink" title="K-Neighbor-Nearst"></a>K-Neighbor-Nearst</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">knn</span>(<span class="params">query_x, history, top_n = <span class="number">3</span></span>):</span><br><span class="line">    sorted_notes = <span class="built_in">sorted</span>(history.items(), key = <span class="keyword">lambda</span> x_y: (x_y[<span class="number">0</span>] - query_x)**<span class="number">2</span>) </span><br><span class="line">    similar_notes = sorted_notes[:top_n]</span><br><span class="line">    similar_ys = [y <span class="keyword">for</span> _, y <span class="keyword">in</span> similar_notes]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> np.mean(similar_ys)</span><br><span class="line"></span><br><span class="line">knn(<span class="number">5.4</span>, history_notes)</span><br></pre></td></tr></table></figure>

<p>In order to obtain results faster, we hope to obtain predictive power by fitting a function</p>
<p>$$ f(rm) &#x3D; k * rm + b $$ </p>
<h2 id="Random-Approach"><a href="#Random-Approach" class="headerlink" title="Random Approach"></a>Random Approach</h2><p>$$ Loss(k, b) &#x3D; \frac{1}{n} \sum_{i \in N} (\hat{y_i} - y_i) ^ 2 $$<br>$$ Loss(k, b) &#x3D; \frac{1}{n} \sum_{i \in N} ((k * rm_i + b) - y_i) ^ 2 $$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">loss</span>(<span class="params">y_hat, y</span>):</span><br><span class="line">    <span class="keyword">return</span> np.mean((y_hat - y)**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">min_loss = <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line"></span><br><span class="line">best_k, best_b = <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    min_v, max_v = -<span class="number">100</span>, <span class="number">100</span></span><br><span class="line">    k, b = random.randrange(min_v, max_v), random.randrange(min_v, max_v)</span><br><span class="line">    y_hats = [k * rm_i + b <span class="keyword">for</span> rm_i <span class="keyword">in</span> x]</span><br><span class="line">    current_loss = loss(y_hats, y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> current_loss &lt; min_loss:</span><br><span class="line">        min_loss = current_loss</span><br><span class="line">        best_k, best_b = k, b</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;step&#125;</span>, we have func f(rm) = <span class="subst">&#123;k&#125;</span> * rm + <span class="subst">&#123;b&#125;</span>,  lss is :<span class="subst">&#123;current_loss&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.scatter(x, y)</span><br><span class="line">plt.scatter(x, [best_k * rm + best_b <span class="keyword">for</span> rm <span class="keyword">in</span> x])</span><br></pre></td></tr></table></figure>

<h2 id="Monte-Carlo-simulation-蒙特卡洛模拟"><a href="#Monte-Carlo-simulation-蒙特卡洛模拟" class="headerlink" title="Monte Carlo simulation(蒙特卡洛模拟)"></a>Monte Carlo simulation(蒙特卡洛模拟)</h2><h3 id="Supervisor"><a href="#Supervisor" class="headerlink" title="Supervisor"></a>Supervisor</h3><p>$$ Loss(k, b) &#x3D; \frac{1}{n} \sum_{i \in N} ((k * rm_i + b) - y_i) ^ 2 $$</p>
<p>$$ \frac{\partial{loss(k, b)}}{\partial{k}} &#x3D; \frac{2}{n}\sum_{i \in N}(k * rm_i + b - y_i) * rm_i $$</p>
<p>$$ \frac{\partial{loss(k, b)}}{\partial{b}} &#x3D; \frac{2}{n}\sum_{i \in N}(k * rm_i + b - y_i)$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">partial_k</span>(<span class="params">k, b, x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>  * np.mean((k*x+b-y) * x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">partial_b</span>(<span class="params">k, b, x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * np.mean(k*x+b-y)</span><br><span class="line"></span><br><span class="line">k, b = random.random(), random.random()</span><br><span class="line">min_loss = <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line"></span><br><span class="line">best_k, best_b = <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">learning_rate = <span class="number">1e-2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2000</span>):</span><br><span class="line">    k, b = k + (-<span class="number">1</span> * partial_k(k, b, x, y) * learning_rate), b + (-<span class="number">1</span> * partial_b(k, b, x, y) * learning_rate)</span><br><span class="line">    y_hats = k * x + b</span><br><span class="line">    current_loss = loss(y_hats, y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> current_loss &lt; min_loss:</span><br><span class="line">        min_loss = current_loss</span><br><span class="line">        best_k, best_b = k, b</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;setp <span class="subst">&#123;step&#125;</span>, we have func f(rm) = <span class="subst">&#123;k&#125;</span> * rm + <span class="subst">&#123;b&#125;</span>,  lss is :<span class="subst">&#123;current_loss&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">best_k, best_b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.scatter(x, y)</span><br><span class="line">plt.scatter(x, [best_k * rm + best_b <span class="keyword">for</span> rm <span class="keyword">in</span> x])</span><br></pre></td></tr></table></figure>

<h2 id="Supervised-Learning"><a href="#Supervised-Learning" class="headerlink" title="Supervised Learning"></a>Supervised Learning</h2><p>We turn the forecast of housing prices into a more responsible and sophisticated model. What should we do?</p>
<p>$$ f(x) &#x3D; k * x + b $$</p>
<p>$$ f(x) &#x3D; k2 * \sigma(k_1 * x + b_1) + b2 $$</p>
<p>$$ \sigma(x) &#x3D; \frac{1}{1 + e^(-x)} $$ </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sigmoid</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span>+np.exp(-x))</span><br><span class="line"></span><br><span class="line">sub_x = np.linspace(-<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">plt.plot(sub_x, sigmoid(sub_x))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">random_linear</span>(<span class="params">x</span>):</span><br><span class="line">    k, b = random.random(), random.random()</span><br><span class="line">    <span class="keyword">return</span> k * x + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">complex_function</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> (random_linear(x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    index = random.randrange(<span class="number">0</span>, <span class="built_in">len</span>(sub_x))</span><br><span class="line">    sub_x_1, sub_x_2 = sub_x[:index], sub_x[index:]</span><br><span class="line">    new_y = np.concatenate((complex_function(sub_x_1), complex_function(sub_x_2)))</span><br><span class="line">    plt.plot(sub_x, new_y)</span><br></pre></td></tr></table></figure>

<p>We can implement more complex functions through simple, basic modules and repeated superposition</p>
<p>For more and more complex functions? How does the computer seek guidance?</p>
<ol>
<li>What is machine learning?</li>
<li>The shortcomings of this method of KNN, what is the background of the proposed linear fitting</li>
<li>How to get faster function weight update through supervision method</li>
<li>The combination of nonlinear and linear functions can fit very complex functions</li>
<li>Deep learning we can fit more complex functions through basic function modules</li>
</ol>
<h3 id="Assigment"><a href="#Assigment" class="headerlink" title="Assigment:"></a>Assigment:</h3><p>$$ L2-Loss(y, \hat{y}) &#x3D; \frac{1}{n}\sum{(\hat{y} - y)}^2 $$</p>
<p>$$ L1-Loss(y, \hat{y}) &#x3D; \frac{1}{n}\sum{|(\hat{y} - y)|} $$</p>
<p>L2-Loss becomes L1Loss and achieves gradient descent</p>
<p>Realize L1Loss gradient descent from 0</p>
<h4 id="1-import-package"><a href="#1-import-package" class="headerlink" title="1. import package"></a>1. import package</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>

<h4 id="2-load-data"><a href="#2-load-data" class="headerlink" title="2. load data"></a>2. load data</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line">data = load_boston()</span><br><span class="line">data.keys()</span><br><span class="line"></span><br><span class="line">data_train = data.data</span><br><span class="line">data_traget = data.target</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data_train, columns = data.feature_names)</span><br><span class="line">df.head()</span><br><span class="line"></span><br><span class="line">df.describe() <span class="comment"># Data description, you can view the statistics of each variable</span></span><br></pre></td></tr></table></figure>
<h4 id="3-Data-preprocessing"><a href="#3-Data-preprocessing" class="headerlink" title="3. Data preprocessing"></a>3. Data preprocessing</h4><p>Normalization or standardization can prevent a certain dimension or a few dimensions from affecting the data too much when there are very many dimensions, and secondly, the program can run faster. There are many methods, such as standardization, min-max, z-score, p-norm, etc. How to use it depends on the characteristics of the data set.</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/81560511">Further reading-数据标准化的迷思之深度学习领域</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="comment"># z = (x-u) / s u is the mean, s is the standard deviation</span></span><br><span class="line">ss = StandardScaler() </span><br><span class="line">data_train = ss.fit_transform(data_train)</span><br><span class="line"><span class="comment"># For linear models, normalization or standardization is generally required, otherwise gradient explosion will occur, and tree models are generally not required</span></span><br><span class="line">data_train = pd.DataFrame(data_train, columns = [<span class="string">&#x27;CRIM&#x27;</span>,<span class="string">&#x27;ZN&#x27;</span>,<span class="string">&#x27;INDUS&#x27;</span>,<span class="string">&#x27;CHAS&#x27;</span>,<span class="string">&#x27;NOX&#x27;</span>,<span class="string">&#x27;RM&#x27;</span>,<span class="string">&#x27;AGE&#x27;</span>,<span class="string">&#x27;DIS&#x27;</span>,<span class="string">&#x27;RAD&#x27;</span>,<span class="string">&#x27;TAX&#x27;</span>,<span class="string">&#x27;PTRATIO&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;LSTAT&#x27;</span>])</span><br><span class="line">data_train.describe() </span><br><span class="line"></span><br><span class="line"><span class="comment"># y=Σwixi+</span></span><br><span class="line"><span class="comment"># Because the derivation of b is all 1, add a bias b to the data and set it to 1, as a feature of the data and update the gradient wi*b=wi</span></span><br><span class="line">data_train[<span class="string">&#x27;bias&#x27;</span>]  = <span class="number">1</span></span><br><span class="line">data_train</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Divide the data set, where 20% of the data is used as the test set X_test, y_test, and the other 80% are used as the training set X_train, y_train, where random_state is the random seed</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">train_x, test_x, train_y, test_y = train_test_split(data_train, data_traget, test_size = <span class="number">0.2</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_x.shape, train_y.shape&#x27;</span>, train_x.shape, train_y.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_x.shape, test_y.shape&#x27;</span>, test_x.shape, test_y.shape)</span><br><span class="line"></span><br><span class="line">train_x = np.array(train_x)</span><br></pre></td></tr></table></figure>

<h3 id="Model-training-and-gradient-update"><a href="#Model-training-and-gradient-update" class="headerlink" title="Model training and gradient update"></a>Model training and gradient update</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">l1_cost</span>(<span class="params">x, y, theta</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    x: 特征</span></span><br><span class="line"><span class="string">    y: 目标值</span></span><br><span class="line"><span class="string">    thta: 模型参数</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    k = x.shape[<span class="number">0</span>]</span><br><span class="line">    total_cost = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        total_cost += <span class="number">1</span>/k * np.<span class="built_in">abs</span>(y[i] -theta.dot(x[i, :]))</span><br><span class="line">    <span class="keyword">return</span> total_cost</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">l2_cost</span>(<span class="params">x, y, theta</span>):</span><br><span class="line">    k = x.shape[<span class="number">0</span>]</span><br><span class="line">    total_cost = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        total_cost += <span class="number">1</span>/k * (y[i] -theta.dot(x[i,:])) ** <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> total_cost</span><br><span class="line"></span><br><span class="line">np.zeros(<span class="number">10</span>).shape</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">step_l1_gradient</span>(<span class="params">x, y, learning_rate, theta</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Function to calculate the gradient of the MAE loss function</span></span><br><span class="line"><span class="string">    Return the gradient value 0 for the non-differentiable point at 0</span></span><br><span class="line"><span class="string">    X:特征向量</span></span><br><span class="line"><span class="string">    y：目标值</span></span><br><span class="line"><span class="string">    learing_rate:学习率</span></span><br><span class="line"><span class="string">    theta:参数</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    n = x.shape[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># print(n)</span></span><br><span class="line">    e = y - x @ theta</span><br><span class="line">    gradients = - (x.T @ np.sign(e)) / n <span class="comment"># sign is a sign function</span></span><br><span class="line">    thata = theta - learning_rate * gradients</span><br><span class="line">    <span class="keyword">return</span> theta</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">step_l2_gradient</span>(<span class="params">x, y, learning_rate, theta</span>):</span><br><span class="line">    k = x.shape[<span class="number">0</span>]</span><br><span class="line">    n = x.shape[<span class="number">1</span>]</span><br><span class="line">    gradients = np.zeros(n)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            gradients[j] += (-<span class="number">2</span>/k) * (y[i] - (theta.dot(x[i, :]))) * x[i, j]</span><br><span class="line">    theta = theta - learning_rate * gradient</span><br><span class="line">    <span class="keyword">return</span> theta</span><br><span class="line"></span><br><span class="line"><span class="comment"># def step_gradient(X, y, learning_rate, theta):</span></span><br><span class="line"><span class="comment">#     &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#     X:特征向量</span></span><br><span class="line"><span class="comment">#     y：目标值</span></span><br><span class="line"><span class="comment">#     learing_rate:学习率</span></span><br><span class="line"><span class="comment">#     theta:参数</span></span><br><span class="line"><span class="comment">#     &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#     m_deriv = 0</span></span><br><span class="line"><span class="comment">#     N = len(X)</span></span><br><span class="line"><span class="comment">#     for i in range(N):</span></span><br><span class="line"><span class="comment">#         # 计算偏导</span></span><br><span class="line"><span class="comment">#         # -x(y - (mx + b)) / |mx + b|</span></span><br><span class="line"><span class="comment">#         m_deriv += - X[i] * (y[i] - (theta*X[i] + b)) / abs(y[i] - (theta*X[i] + b))</span></span><br><span class="line"><span class="comment">#     # We subtract because the derivatives point in direction of steepest ascent</span></span><br><span class="line"><span class="comment">#     theta -= (m_deriv / float(N)) * learning_rate</span></span><br><span class="line"><span class="comment"># #     theta = theta - learning_rate * gradients</span></span><br><span class="line"><span class="comment">#     return theta</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gradient_descent</span>(<span class="params">train_x, train_y, learning_rate, iterations</span>):</span><br><span class="line">    k = train_x.shape[<span class="number">0</span>]</span><br><span class="line">    n = train_x.shape[<span class="number">1</span>]</span><br><span class="line">    theta = np.zeros(n) <span class="comment"># Initialization parameters</span></span><br><span class="line"></span><br><span class="line">    loss_values = []</span><br><span class="line">    <span class="comment"># print(theta.shape)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(iterations):</span><br><span class="line">        theta = step_l1_gradient(train_x, train_y, learning_rate, theta)</span><br><span class="line">        loss = l1_cost(train_x, train_y, theta)</span><br><span class="line">        loss_values.append(loss)</span><br><span class="line">        <span class="built_in">print</span>(i, <span class="string">&#x27;cost:&#x27;</span>, loss)</span><br><span class="line">    <span class="keyword">return</span> theta, loss_values</span><br><span class="line"></span><br><span class="line"><span class="comment">#  Training parameters</span></span><br><span class="line">learning_rate = <span class="number">0.04</span> <span class="comment"># Learning rate</span></span><br><span class="line">iterations = <span class="number">300</span> <span class="comment"># Number of iterations</span></span><br><span class="line">theta, loss_values = gradient_descent(train_x, train_y, learning_rate, iterations)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/boston_analysis/" data-id="clid1r2g8003c56j70m9z705b" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-boston_data_CART" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/boston_data_CART/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Boston-house-price-CART-regression-tree"><a href="#Boston-house-price-CART-regression-tree" class="headerlink" title="Boston house price CART regression tree"></a>Boston house price CART regression tree</h1><h2 id="On-the-code"><a href="#On-the-code" class="headerlink" title="On the code"></a>On the code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CART regression tree prediction</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score,mean_absolute_error, mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeRegressor,export_graphviz</span><br><span class="line"><span class="keyword">import</span> graphviz</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare data set</span></span><br><span class="line">boston = load_boston()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Explore data</span></span><br><span class="line"><span class="built_in">print</span>(boston.feature_names)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get feature set and price</span></span><br><span class="line">features = boston.data</span><br><span class="line">prices = boston.target</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Randomly extract 33% of the data as the test set, and the rest as the training set</span></span><br><span class="line">train_features, test_features, train_price, test_price = train_test_split(features,prices,test_size=<span class="number">0.33</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create CART regression tree</span></span><br><span class="line">dtr = DecisionTreeRegressor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fitting and constructing CART regression tree</span></span><br><span class="line">dtr.fit(train_features, train_price)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict housing prices in the test set</span></span><br><span class="line">predict_price = dtr.predict(test_features)</span><br><span class="line"></span><br><span class="line">grap_data = export_graphviz(dtr, out_file=<span class="literal">None</span>)</span><br><span class="line">graph = graphviz.Source(grap_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Result evaluation of test set</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Regression tree mean squared deviation:&#x27;</span>,mean_squared_error(test_price, predict_price))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Regression tree absolute value deviation mean:&#x27;</span>,mean_absolute_error(test_price, predict_price))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Generate regression tree visualization</span></span><br><span class="line">graph.render(<span class="string">&#x27;Boston&#x27;</span>)</span><br></pre></td></tr></table></figure>



<p>!&gt; Before running this code, please ensure that the relevant dependencies have been installed;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/boston_data_CART/" data-id="clid1r2g9003f56j7h19j1kgn" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-digits_recognition" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/digits_recognition/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.776Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Digits-recognition"><a href="#Digits-recognition" class="headerlink" title="Digits recognition"></a>Digits recognition</h1><blockquote>
<p>The code address of this article is: <a target="_blank" rel="noopener" href="https://github.com/hivandu/colab/blob/master/AI_data/digit%20recognition.ipynb">digit recognition</a></p>
</blockquote>
<h2 id="Convolution-operation-demo"><a href="#Convolution-operation-demo" class="headerlink" title="Convolution operation demo"></a>Convolution operation demo</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pylab</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> signal</span><br><span class="line"></span><br><span class="line"><span class="comment"># set img</span></span><br><span class="line">img = np.array([[<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>],[<span class="number">10</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">10</span>], [<span class="number">10</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">10</span>], [<span class="number">10</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">10</span>], [<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># set convolution</span></span><br><span class="line">fil = np.array([[-<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># convolution the img</span></span><br><span class="line">res = signal.convolve2d(img, fil, mode=<span class="string">&#x27;valid&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output the result</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[ 15  10   0]</span><br><span class="line"> [ 10   0 -10]</span><br><span class="line"> [  0 -10 -15]]</span><br></pre></td></tr></table></figure>

<h2 id="A-image-demo"><a href="#A-image-demo" class="headerlink" title="A image demo"></a>A image demo</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pylab</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> signal</span><br><span class="line"></span><br><span class="line"><span class="comment"># read the image</span></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./data/weixin.jpg&#x27;</span>, <span class="number">0</span>) <span class="comment"># Any picture</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># show the image</span></span><br><span class="line">plt.imshow(img, cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">pylab.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the convolution</span></span><br><span class="line">fil = np.array([[-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># convolution operation</span></span><br><span class="line">res = signal.convolve2d(img, fil, mode=<span class="string">&#x27;valid&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># show convolution image</span></span><br><span class="line">plt.imshow(res, cmap = <span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">pylab.show()</span><br></pre></td></tr></table></figure>

<h2 id="use-LeNet-model-to-recognize-Mnist-handwritten-digits"><a href="#use-LeNet-model-to-recognize-Mnist-handwritten-digits" class="headerlink" title="use LeNet model to recognize Mnist handwritten digits"></a>use LeNet model to recognize Mnist handwritten digits</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> keras</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Conv2D, MaxPooling2D</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense, Flatten</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># load data</span></span><br><span class="line">(train_x, train_y), (test_x, test_y) = mnist.load_data()</span><br><span class="line"></span><br><span class="line">train_x = train_x.reshape(train_x.shape[<span class="number">0</span>], <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>)</span><br><span class="line">test_x = test_x.reshape(test_x.shape[<span class="number">0</span>], <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>)</span><br><span class="line">train_x = train_x / <span class="number">255</span></span><br><span class="line">test_x = test_x / <span class="number">255</span></span><br><span class="line"></span><br><span class="line">train_y = keras.utils.to_categorical(train_y, <span class="number">10</span>)</span><br><span class="line">test_y = keras.utils.to_categorical(test_y, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create sequential models</span></span><br><span class="line">model = Sequential()</span><br><span class="line"></span><br><span class="line"><span class="comment"># The first convolutional layer: 6 convolution kernels, the size is 5*5, relu activation function</span></span><br><span class="line">model.add(Conv2D(<span class="number">6</span>, kernel_size = (<span class="number">5</span>,<span class="number">5</span>), activation=<span class="string">&#x27;relu&#x27;</span>, input_shape=(<span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># the second pooling layer: maximum pooling</span></span><br><span class="line">model.add(MaxPooling2D(pool_size = (<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># the third convolutional layer: 16 convolution kernels, the size is 5*5, relu activation function</span></span><br><span class="line">model.add(Conv2D(<span class="number">16</span>, kernel_size = (<span class="number">5</span>, <span class="number">5</span>), activation = <span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># the second pooling layer: maximum pooling</span></span><br><span class="line">model.add(MaxPooling2D(pool_size = (<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Flatten the parameters, which is called a convolutional layer in leNet5. in fact, this layer is a one-dimensional vector, the same as the fully connected layer</span></span><br><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">120</span>, activation = <span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fully connected layer, the number of output nodes is 84</span></span><br><span class="line">model.add(Dense(<span class="number">84</span>, activation = <span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># The output layer uses the softmax activation function to calculate the classification probability</span></span><br><span class="line">model.add(Dense(<span class="number">10</span>, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the loss function and optimizer configuration</span></span><br><span class="line">model.<span class="built_in">compile</span>(loss = keras.metrics.categorical_crossentropy, optimizer = keras.optimizers.Adam(), metrics = [<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Incoming training data for training</span></span><br><span class="line">model.fit(train_x, train_y, batch_size = <span class="number">128</span>, epochs = <span class="number">2</span>, verbose = <span class="number">1</span>, validation_data = (test_x, test_y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Evaluate the results</span></span><br><span class="line">score = model.evaluate(test_x, test_y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Error: %.4lf&#x27;</span> % score[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Accuracy: &#x27;</span>, score[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Train on 60000 samples, validate on 10000 samples</span><br><span class="line">Epoch 1/2</span><br><span class="line">60000/60000 [==============================] - 37s 616us/step - loss: 0.3091 - accuracy: 0.9102 - val_loss: 0.1010 - val_accuracy: 0.9696</span><br><span class="line">Epoch 2/2</span><br><span class="line">60000/60000 [==============================] - 36s 595us/step - loss: 0.0876 - accuracy: 0.9731 - val_loss: 0.0572 - val_accuracy: 0.9814</span><br><span class="line">10000/10000 [==============================] - 3s 328us/step</span><br><span class="line">Error: 0.0572</span><br><span class="line">Accuracy:  0.9814000129699707</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/digits_recognition/" data-id="clid1r2ga003u56j72ojparpx" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Analysis_data_and_research_report_collection" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/Analysis_data_and_research_report_collection/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T14:21:07.775Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Analysis-data-and-research-report-collection"><a href="#Analysis-data-and-research-report-collection" class="headerlink" title="Analysis data and research report collection"></a>Analysis data and research report collection</h1><blockquote>
<p>The purpose is to facilitate finding specific locations when doing data analysis by yourself</p>
</blockquote>
<h2 id="1-国内咨询机构网站数据报告列表"><a href="#1-国内咨询机构网站数据报告列表" class="headerlink" title="1. 国内咨询机构网站数据报告列表"></a>1. 国内咨询机构网站数据报告列表</h2><ul>
<li><a target="_blank" rel="noopener" href="http://report.iresearch.cn/">艾瑞研究-艾瑞网</a> 互联网行业报告</li>
<li><a target="_blank" rel="noopener" href="http://index.iresearch.com.cn/app">艾瑞APP指数</a> 移动App TOP 1000 月度活跃和日活跃</li>
<li><a target="_blank" rel="noopener" href="http://index.iresearch.com.cn/pc">艾瑞PC指数</a> PC TOP 1000 月度活跃和日活跃</li>
<li><a target="_blank" rel="noopener" href="http://www.199it.com/">199IT互联网数据中心</a> </li>
<li><a target="_blank" rel="noopener" href="http://www.cnnic.net.cn/hlwfzyj/hlwxzbg/">中国互联网络信息中心</a></li>
<li><a target="_blank" rel="noopener" href="https://www.analysys.cn/article%23analysis">数据新知 - 易观</a></li>
<li><a target="_blank" rel="noopener" href="http://www.umeng.com/reports.html%3Fspm%3D0.0.0.0.eIY17Q%26from%3Dhp">【友盟+】数据报告</a></li>
<li><a target="_blank" rel="noopener" href="http://www.dcci.com.cn/report/index.html">http://www.dcci.com.cn/report/index.html</a> </li>
<li><a target="_blank" rel="noopener" href="http://cn.sino-mr.com/viewpoint">北京赛诺市场研究有限责任公司</a> 赛诺数据，智能机出货量的专业统计</li>
<li><a target="_blank" rel="noopener" href="http://mi.talkingdata.com/reports.html%3Fcategory%3Dall">数据报告-移动观象台-TalkingData</a> Talkingdata报告</li>
<li><a target="_blank" rel="noopener" href="http://www.iimedia.cn/%23shuju">艾媒网-全球移动互联网行业数据发布平台&#x2F;iiMedia Research出品</a></li>
<li><a target="_blank" rel="noopener" href="https://www.dataeye.com/report">DataEye大数据移动营销综合服务商-数据报告</a> 手游方向</li>
<li><a target="_blank" rel="noopener" href="http://aso100.com/">ASO100 - 专业App Store数据平台丨ASO优化专家平台丨iOS榜单排行榜查询工具</a></li>
<li>电影电视行业<a target="_blank" rel="noopener" href="http://www.entgroup.cn/report/f/">免费报告列表页</a> 研究娱乐行业</li>
<li><a target="_blank" rel="noopener" href="http://www.dotour.cn/topics/data">旅游数据报告-旅游圈</a>旅游行业报告</li>
<li><a target="_blank" rel="noopener" href="https://www.aldzs.com/bg">小程序报告-阿拉丁统计</a></li>
<li>爱应用：<a target="_blank" rel="noopener" href="https://www.iai.cn/">一个应用所有历史版本的产品分析截图记录</a></li>
<li><a target="_blank" rel="noopener" href="https://www.appannie.com/cn/">Appannie</a>，国外下载应用</li>
<li><a target="_blank" rel="noopener" href="https://www.caasdata.com/index/report/index.html">卡思数据-短视频网红分析数据分析</a></li>
<li><a target="_blank" rel="noopener" href="http://www.gjzq.com.cn/main/invest-advisory/index.html">国金证券研究所</a> 国家宏观经济研究数据和报告</li>
<li><a target="_blank" rel="noopener" href="https://research.cicc.com/index">中金研报</a></li>
<li><a target="_blank" rel="noopener" href="https://toobigdata.com/douyin/users">抖音快手的热门视频和kol的</a></li>
<li><a target="_blank" rel="noopener" href="https://tophub.today/">各大媒体的每天的热门排行榜</a></li>
<li><a target="_blank" rel="noopener" href="http://hao.199it.com/douyin.html">短视频行业的数据</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/_GSAIJhHILdIlwKRbhkpFQ">招商证券的电商类报告</a>电商类的行业观察，企业研究，品牌深度报告</li>
<li><a target="_blank" rel="noopener" href="https://report.newrank.cn/index.html%3FbindType%3Dreport">短视频和图文内容类的行业报告-新榜</a></li>
<li><a target="_blank" rel="noopener" href="http://www.100ec.cn/zt/wmds/">http://www.100ec.cn/zt/wmds/</a> 涵盖跨境电商所有报告，行业数据和研报</li>
<li><a target="_blank" rel="noopener" href="http://t.cn/A6tH23UH">镝数聚-权威数据 海量聚合</a> 提取了报告中的数据，颗粒度比较细</li>
<li><a target="_blank" rel="noopener" href="http://data.eastmoney.com/report/">东方财富研报首页</a> 东方财富研报</li>
</ul>
<h2 id="2-国家机构公开数据"><a href="#2-国家机构公开数据" class="headerlink" title="2. 国家机构公开数据"></a>2. <strong>国家机构公开数据</strong></h2><ol>
<li><a target="_blank" rel="noopener" href="http://www.catr.cn/kxyj/qwfb/qwsj/">中国信通院-研究成果-权威发布-权威数据</a> </li>
<li><a target="_blank" rel="noopener" href="http://www.camet.org.cn/index.php%3Fm%3Dcontent%26c%3Dindex%26a%3Dlists%26catid%3D18">中国城市轨道交通协会</a>城市地铁线路的流量数据</li>
<li><a target="_blank" rel="noopener" href="http://www.gov.cn/fuwu/">国家的便民服务查询</a>（包括5A景区list，小微企业名录，法人信用查询，出租车信息查询）</li>
<li><a target="_blank" rel="noopener" href="http://www.gov.cn/shuju/chaxun/index.htm">国家宏观经济数据</a>（GDP,CPI，总人口，社会消费品零售总额，粮食产品，PPI，各地区行政规划，各地财政收支等等，分月度季度和年度）部分数据如下</li>
<li><a target="_blank" rel="noopener" href="http://www.stats.gov.cn/tjsj/">国家统计局</a>（数据多到瞠目结舌，包括年度，季度，国家，国际，年鉴，介乎涵盖所有数据指标和历史）部分数据举例</li>
<li><a target="_blank" rel="noopener" href="https://data.worldbank.org.cn/indicator%3Ftab%3Dall">世界银行的公开数据库</a>（有健康，农业，公共部部门，人口分布，外债，性别，教育，环境，气候变化，能源，贫困等各种公开数据）</li>
<li><a target="_blank" rel="noopener" href="https://cn.knoema.com/atlas">世界数据图册</a>（世界和地区统计资料，各国数据，地图，排名）包含的全球的国家公开的数据</li>
<li><a target="_blank" rel="noopener" href="http://hao.199it.com/buwei.html">国家机关部委的公开数据</a>（包括国家发展和改革委员会，教育部，民政部，司法部，财政部，工业和信息化不，交通运输部，文化和旅游部等）</li>
<li><a target="_blank" rel="noopener" href="http://hao.199it.com/opencity.html">各城市开放数据</a>（包括浙江数据开放网，青岛数据开放网，贵阳数据开放平台，成都数据公开平台，合肥数据开放平台，河南开放数据平台等）</li>
<li><a target="_blank" rel="noopener" href="http://hao.199it.com/hgjj.html">宏观经济查询数据</a>（包括高校财经信息库，人民网经济数据库，香港统计处，联合国统计司，世界经合组织，欧盟统计局，国际货币基金组织等）</li>
<li><a target="_blank" rel="noopener" href="http://hao.199it.com/fang.html">房价数据</a>（包括中国房价指数，房价走势，台湾房价行情，北京房价查询，深圳楼盘成交查询等，上海地铁房价，贝壳指数等）</li>
<li><a target="_blank" rel="noopener" href="http://hao.199it.com/auto.html">汽车数据</a>（包括中国汽车工业协会数据，百度汽车网，易车汽车指数，汽车渠道直通车，中国汽车流通协会数据中心，德国汽车工业协会等）</li>
<li><a target="_blank" rel="noopener" href="https://www.cncic.org/%3Fcat%3D7">权威发布 | 中华全国商业信息中心</a></li>
</ol>
<h2 id="3-国内互联网公司数据报告网站列表"><a href="#3-国内互联网公司数据报告网站列表" class="headerlink" title="3. 国内互联网公司数据报告网站列表"></a>3. 国内互联网公司数据报告网站列表</h2><ol>
<li><a target="_blank" rel="noopener" href="http://djt.qq.com/ppts/">讲座PPT-腾讯大讲堂</a></li>
<li><a target="_blank" rel="noopener" href="http://www.tencent.com/zh-cn/investor.html">Tencent 腾讯</a>-业绩报告</li>
<li><a target="_blank" rel="noopener" href="http://mta.qq.com/mta/operation/">腾讯大数据</a>-腾讯云数据分析出来的行业报告</li>
<li><a target="_blank" rel="noopener" href="http://developer.baidu.com/report%3Ftype%3Dinvestigate">百度开放服务平台</a>-百度云数据分析出来的行业报告</li>
<li><a target="_blank" rel="noopener" href="http://datamarket.baidu.com/app.html%23app/index">百度数据研究中心 提供行业研究报告、行业分析报告</a>-百度数据中心报告</li>
<li><a target="_blank" rel="noopener" href="http://www.aliresearch.com/">首页-阿里研究院</a>-阿里行业研究报告</li>
<li><a target="_blank" rel="noopener" href="http://tech.qq.com/biznext/list.html">企鹅智酷_腾讯网</a>-腾讯出品行业报告 </li>
<li><a target="_blank" rel="noopener" href="https://cdc.tencent.com/">腾讯CDC</a> -腾讯交互设计报告</li>
<li><a target="_blank" rel="noopener" href="http://ued.baidu.com/case">百度用户体验中心</a>-百度UED用户研究报告</li>
<li><a target="_blank" rel="noopener" href="http://gux.163.com/">网易用户体验设计中心</a>-网易UED用户研究报告</li>
<li><a target="_blank" rel="noopener" href="http://c.youku.com/ykvr/index">网络视频数据报告</a>-优酷指数行业报告</li>
<li><a target="_blank" rel="noopener" href="http://www.pptv.com/aboutus/download/">PP指数_PPTV聚力</a>-PPTV指数行业报告</li>
<li><a target="_blank" rel="noopener" href="http://zt.360.cn/report/">360研究报告_360安全中心</a>-360应用商店等产品出品报告</li>
</ol>
<h2 id="4-国外咨询机构网站数据报告列表"><a href="#4-国外咨询机构网站数据报告列表" class="headerlink" title="4. 国外咨询机构网站数据报告列表"></a>4. 国外咨询机构网站数据报告列表</h2><blockquote>
<p>国外咨询机构较多，数据详实，无论是海外出海产品，海外报告中多有亚洲和中国的重点研究，相关报告和趋势分析都可以选看</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.flurry.com/">Flurry</a>-国外app行业报告</li>
<li><a target="_blank" rel="noopener" href="http://cn.blog.appannie.com/">App Annie Blog</a>-app指数报告</li>
<li><a target="_blank" rel="noopener" href="https://www.appannie.com/insights/">https://www.appannie.com/insights/</a> (Appnnie的行业包括，包括app 分发行业的分发量和收入）</li>
<li><a target="_blank" rel="noopener" href="https://intelligence.businessinsider.com/">BI Intelligence</a>-business insider的报告</li>
<li><a target="_blank" rel="noopener" href="http://www.emarketer.com/Articles">Today’s Articles on Digital Marketing and Media</a>-emarker的报告</li>
<li><a target="_blank" rel="noopener" href="http://www.newzoo.com/category/press-releases/">http://www.newzoo.com/category/press-releases/</a>-newzoo侧重于手游行业报告</li>
<li><a target="_blank" rel="noopener" href="http://www.gartner.com/newsroom/archive/">Gartner Press Release Archives</a>-gartner侧重于硬件的出货量，包括智能机和PC等</li>
<li><a target="_blank" rel="noopener" href="http://www.idc.com/search/geography/perform_.do%3Fpage%3D1%26hitsPerPage%3D25%26sortBy%3DRELEVANCY%26lang%3DEnglish%26srchIn%3DALLRESEARCH%26src%3D%26athrT%3D10%26geo%3D3_332%26cmpT%3D10%26pgT%3D10%26_xpn%3Dfalse">IDC - Search Results</a>-IDC的硬件出货量全球报告</li>
<li><a target="_blank" rel="noopener" href="http://www.yozzo.com/news-and-information">Yozzo Telecom News</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jpmorgan.com/pages/jpmorgan">J.P. Morgan Home</a>-摩根投行报告</li>
<li><a target="_blank" rel="noopener" href="http://www.tohmatsu.com/view/en_JP/jp">德勤中国 | 审计, 企业管理咨询, 财务咨询, 风险管理, 税务服务及行业洞察</a></li>
<li><a target="_blank" rel="noopener" href="http://www.comscore.com/">Precisely Everywhere</a>-comscore的互联网行业报告</li>
<li><a target="_blank" rel="noopener" href="http://www.ericsson.com/">Ericsson - A world of communication</a>（Global移动行业报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.gamesindustry.biz/">GamesIndustry.biz</a>（Global游戏行业报告）</li>
<li><a target="_blank" rel="noopener" href="http://adfonic.com/">http://adfonic.com/</a>（Global广告行业报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.canalys.com/">Canalys | Insight. Innovation. Impact.</a>（Global智能机报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.juniperresearch.com/">Mobile, Online &amp; Digital Market Research, Data &amp; Consultancy</a>（通信无线报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.gfk.com/Pages/default.aspx">Home | GfK Global</a>（终端比较专业的报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.kantarworldpanel.com/global">Kantar Worldpanel</a>（主要统计Android和ios的市场份额）</li>
<li><a target="_blank" rel="noopener" href="https://www.pwc.com/us/en/publications.html">PwC publications</a>（皮尤的所有用户，市场研究报告）</li>
<li><a target="_blank" rel="noopener" href="https://www.fiksu.com/">Fiksu | Data-fueled mobile marketing</a>（统计app用户获取成本和应用商店下载频次的监测）</li>
<li><a target="_blank" rel="noopener" href="https://www.weforum.org/reports">https://www.weforum.org/reports</a>（世界经济论坛的报告，揭示国内外发展的大趋势）</li>
<li><a target="_blank" rel="noopener" href="http://blog.jampp.com/insights/">Insights - Jampp</a> （Jampp是国外的app 的粘性和转化漏洞的网站，在insights里还有行业的app的retention等benchmark的数据，有些类似flurry的行业数据）</li>
<li><a target="_blank" rel="noopener" href="http://www.rolandberger.com.cn/publications/publications_in_Greater_China/industry_reports/index.html">罗兰贝格行业评论</a> 战略和行业评论和报告</li>
<li><a target="_blank" rel="noopener" href="http://www.pwccn.com/home/chi/libraryindex_chi.html">普华永道: </a>blog 各个行业的主要发现和行业报告</li>
<li><a target="_blank" rel="noopener" href="https://www.similarweb.com/">Website Traffic &amp; Mobile App Analytics</a> （similar web 以色列的网站分析工具，可以分析任何网站，包括用户，来源，终端，分布等等，数据非常棒）</li>
<li><a target="_blank" rel="noopener" href="http://www.cadas.com.cn/">CADAS</a>（全球航空公司研究报告）：非常支持和专业 </li>
<li><a target="_blank" rel="noopener" href="http://www.draphant.com/report">印度互联网年报 - 竺帆 | 助力中企扬帆天竺</a> （印度出海报告，非常详细）</li>
<li><a target="_blank" rel="noopener" href="https://www.gsma.com/r/mobileeconomy/">GSMA：</a> 全球移动互联网经济分析报告，全部免费下载报告和数据，从2015年到现在</li>
<li><a target="_blank" rel="noopener" href="https://www.ibm.com/cn-zh/services/insights/institute-business-value">商业价值研究院</a> -IBM（行业观点报告比较多）</li>
<li><strong><a target="_blank" rel="noopener" href="http://www.mckinseychina.com/">Home - McKinsey Greater China</a>麦肯锡</strong></li>
<li>**<a target="_blank" rel="noopener" href="http://www.bcg.com.cn/cn/default.html">BCG - 波士顿咨询公司</a>波士顿</li>
<li><a target="_blank" rel="noopener" href="http://www.rolandberger.com.cn/">企业管理咨询公司</a>罗兰贝格</li>
<li><a target="_blank" rel="noopener" href="https://www.accenture.com/cn-en">Accenture - China</a>埃森哲**</li>
</ul>
<h2 id="5-各大公司不定期发布的报告，比如（细分方向的时候用）"><a href="#5-各大公司不定期发布的报告，比如（细分方向的时候用）" class="headerlink" title="5. 各大公司不定期发布的报告，比如（细分方向的时候用）**"></a>5. 各大公司不定期发布的报告，比如（细分方向的时候用）**</h2><ol>
<li><a target="_blank" rel="noopener" href="http://www.askci.com/news/chanye/2016/01/20/101053mz1i.shtml">高德地图：2015年度中国主要城市交通分析报告</a></li>
<li><a target="_blank" rel="noopener" href="http://tech.qq.com/a/20151216/047691.htm">微信城市服务发布《2015微信政务民生白皮书》</a></li>
<li><a target="_blank" rel="noopener" href="http://socialbeta.com/t/report-taobao-consumption-trends-data">【报告】淘宝发布 2015 中国消费趋势数据，2015 年我们为什么买单？</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.growingio.com/posts/hu-lian-wang-chuang-ye-gong-si-yong-hu-zeng-zhang-shi-zhan-mi-ji">互联网增长的第一本数据分析手册</a>-Growing IO的公开手册</li>
<li><a target="_blank" rel="noopener" href="http://blog.talkingdata.net/%3Fp%3D221">移动游戏运营数据分析指标白皮书（一）</a>-Talkingdata 运营指标分析白皮书</li>
<li><a target="_blank" rel="noopener" href="https://mms.pinduoduo.com/daxue/home">多多大学</a> （多多大学也分享了很多的拼多多运营数据还提供课程，可以看）</li>
</ol>
<h2 id="6-找行业内的人事打听内部一手资料"><a href="#6-找行业内的人事打听内部一手资料" class="headerlink" title="6. 找行业内的人事打听内部一手资料"></a>6. <strong>找行业内的人事打听内部一手资料</strong></h2><ol>
<li><p>关注一些专门打听行业内部人事的信息来源</p>
<ol>
<li>这里先推荐一家公共号：晚点LatePost（微信搜索公共号可以 关注）</li>
<li>这家主要是会 看一些行业内部和重要的消息</li>
</ol>
</li>
<li><p>在行上约人。在行 App</p>
<ol>
<li>如果想知道一些企业的信息，可以在在行上找到一些行家，曾经一手经营或者运营过祥光额项目和参与过竞品和行业公司的操盘，可以约出来，从信息和方法论角度获得资讯</li>
</ol>
</li>
</ol>
<h2 id="7-企业信息报告"><a href="#7-企业信息报告" class="headerlink" title="7.  企业信息报告**"></a>7.  企业信息报告**</h2><ol>
<li><a target="_blank" rel="noopener" href="http://www.chinaipo.com/listed/">新三板在线 - 中国最大的新三板生态平台</a>（各行各业的新三板上市公司财务数据，高管数据等）</li>
<li><a target="_blank" rel="noopener" href="http://www.qichacha.com/">企查查|企业查询</a>（查询企业的产品，品牌和法人信息）</li>
<li><a target="_blank" rel="noopener" href="http://www.tianyancha.com/">企业注册信息查询</a>（天眼查，同企查查）</li>
<li><a target="_blank" rel="noopener" href="https://www.sec.gov/">SEC.gov | Home</a>（美国上市公司年度财务报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.cninfo.com.cn/new/index">巨潮资讯网—</a>（中国上市公司季度年度财务报告）</li>
<li><a target="_blank" rel="noopener" href="http://ir.baidu.com/phoenix.zhtml%3Fc%3D188488%26p%3Dirol-irhome">Baidu | Investors</a>（各大上市公司季度财报，IR.XX公司.com，比如百度这个）</li>
<li><a target="_blank" rel="noopener" href="https://www.tianyancha.com/">天眼查</a>（可以查到各个企业的详细信息，还可以查到员工个数）</li>
</ol>
<h2 id="8-爬虫网站或者APP的数据"><a href="#8-爬虫网站或者APP的数据" class="headerlink" title="8. 爬虫网站或者APP的数据"></a>8. 爬虫网站或者APP的数据</h2><p>最近研究发现，还有一个好的行业信息获取来源，就是通过站内或者App内的爬虫抓取，这个渠道获取的数据，通常可以帮助你了解行业和竞品的站内使用情况，用户喜欢的内容，用户的分布，用户的行为和喜好等等。</p>
<p>爬虫，简单来说是通过程序来获取网页的信息，整理成数据库，从而进行数据挖掘的得到分析结论的过程。比如你可以爬虫购物的页面，知道哪个商品的销量好，比如你可以爬虫小红书的页面，知道哪些kol收到欢迎，你还可以爬取他们的分类，知道美妆和购物的kol表现好，并且有多少个这样的kol。如果你没有对方的数据库权限（当然你肯定没有），那么从外部爬虫是最好的了解他们业务数据的方式。</p>
<ol>
<li><p>通常的搜索方式 是：你要了解的网站&#x2F;App+爬虫，在搜索平台比如百度搜索</p>
</li>
<li><p>这里举例一些程序员垂直的网站，</p>
<p><a target="_blank" rel="noopener" href="https://www.csdn.net/">CSDN网站</a>：在这个网站内搜索：网站&#x2F;app +爬虫 这个关键词，在站内搜索</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/">简书 - 创作你的创作</a>：在这个网站内搜索：网站&#x2F;app +爬虫 这个关键词，在站内搜索，</p>
<p><a target="_blank" rel="noopener" href="http://jiasule.v2ex.com/">V2EX</a>：在这个网站内搜索：网站&#x2F;app +爬虫 这个关键词，在站内搜索</p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/">掘金</a>：在这个网站内搜索：网站&#x2F;app +爬虫 这个关键词，在站内搜索</p>
</li>
</ol>
<h2 id="9-业内微信群"><a href="#9-业内微信群" class="headerlink" title="9 . 业内微信群"></a>9 . <strong>业内微信群</strong></h2><p>现在发现很多好的内部报告和难以获得报告，是通过加入一些干货群，内部群来获得的。</p>
<p>比如做直播电商的人自己比较关注一些直播和电商带货的详细的数据和报告趋势，大家会自己组建一些干货群，只要是市面上有的报告，自己内部发现的都会往里面扔。</p>
<p>这个是淘宝直播的负责人赵圆圆离开淘宝后创业，同时聚集的几个群，里面关于直播的干货非常多。</p>
<p>其他的关于投资的，趋势，创业的类似群也很多，获取报告也很一手，大家也可以自己开发下这样的群组织。</p>
<h2 id="10-搜索引擎"><a href="#10-搜索引擎" class="headerlink" title="10. 搜索引擎"></a>10. 搜索引擎</h2><p>搜索引擎还是可以搜到很多你个性化想要找的报告和趋势。以前我没觉得搜索引擎很很难，后来发现也需要学习和熟练使用，才能让其为自己所用。</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/28013848/answer/1091547644">如何使用搜索引擎</a></p>
<h2 id="11-各大公司的财报"><a href="#11-各大公司的财报" class="headerlink" title="11. 各大公司的财报"></a>11. <strong>各大公司的财报</strong></h2><p>通常对于上市公司来说，财报信息包含的内容是最全面的，关于用户，商业，渠道，增长，业务策略等等。所以如果想了解一个公司，如果是上市公司最好第一手先看财报后者SEC（上市报告）。</p>
<p>很多同学问我财报哪里找，不知道怎么看。其实每个公司都有自己的IR（投资者页面），在上面有财报的完整的pdf下载。另外，也推荐大家听听每期的企业conference call（回答财报问题），可以听下CEO对财报的解读。</p>
<p>这里我列举几个大公司财报的网站</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.wind.com.cn/NewSite/edb.html">wind</a>：金融数据库，包含财报和行业信息（wind的账号可以到闲鱼租）</li>
<li>百度财报 PDF：<a target="_blank" rel="noopener" href="http://ir.baidu.com/phoenix.zhtml%3Fc%3D188488%26p%3Dirol-irhome">Baidu | Investors | Home</a></li>
<li><a target="_blank" rel="noopener" href="http://ir.baidu.com/phoenix.zhtml%3Fc%3D188488%26p%3Dirol-presentations">百度财报解读podcast</a>：音频可以在线听</li>
<li>阿里财报pdf：<a target="_blank" rel="noopener" href="https://www.alibabagroup.com/cn/ir/earnings">阿里巴巴集团</a></li>
<li>腾讯财报pdf：<a target="_blank" rel="noopener" href="http://www.tencent.com/zh-cn/investor.html">Tencent 腾讯 - 投资者关系</a></li>
<li>搜狐财报pdf：<a target="_blank" rel="noopener" href="http://investors.sohu.com/">http://investors.sohu.com/</a></li>
<li>拼多多pdf：<a target="_blank" rel="noopener" href="http://investor.pinduoduo.com/news-releases">Investor Relations | Pinduoduo Inc.</a></li>
<li><a target="_blank" rel="noopener" href="https://edge.media-server.com/m6/p/sgasimfp">拼多多财报解读</a>：音频可以在线听。</li>
</ul>
<p>如果大家有自己想要了解的公司，在百度or google搜索：公司名字+IR ，可以 定位到他们公司的财报网站页面。在页面上找到conference call或者webcast，可以 找到他们的财报解读音频。</p>
<h2 id="12-投资机构的统计网站（创业方向选择，投融资选择的时候用）"><a href="#12-投资机构的统计网站（创业方向选择，投融资选择的时候用）" class="headerlink" title="12. 投资机构的统计网站（创业方向选择，投融资选择的时候用）"></a>12. 投资机构的统计网站（创业方向选择，投融资选择的时候用）</h2><ol>
<li><a target="_blank" rel="noopener" href="https://www.itjuzi.com/">IT桔子 | IT互联网公司产品数据库及商业信息服务</a>（IT桔子，中国创业公司投融资数据和报告）</li>
<li><a target="_blank" rel="noopener" href="https://www.chinaventure.com.cn/cmsmodel/report/list.shtml">研究院_ChinaVenture投资中国网</a>-（投中的每个季度的行业融资报告，不定期有专项分析报告）</li>
<li><a target="_blank" rel="noopener" href="https://www.cbinsights.com/blog/">CB Insights - Blog</a> （CBI insights的一系列产品，包括公司的估值，独角兽公司列表等）</li>
<li><a target="_blank" rel="noopener" href="https://www.cbinsights.com/research-downround-tracker">The Downround Tracker</a>（公司估值下降的趋势）</li>
<li><a target="_blank" rel="noopener" href="https://www.cbinsights.com/research-unicorn-companies">The Complete List of Unicorn Companies</a>（独角兽公司列表）</li>
<li><a target="_blank" rel="noopener" href="http://www.renaissancecapital.com/ipohome/marketwatch.aspx">IPO Center: IPO Market, IPO News, IPO Calendars, IPO Pricings, IPO Voting</a>（IPO相关新闻和趋势报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.privco.com/dashboard">PrivCo | Private Company Financial Intelligence</a>（美国金融数据公司，主要关注未上市公司的所有投融资资料，目前涵盖的公司包括全世界，当然也包括中国公司）</li>
<li>券商<a target="_blank" rel="noopener" href="http://data.eastmoney.com/report/hyyb.html%23dHA9MCZjZz0wJmR0PTImaHk9NDQ3JnBhZ2U9MQ%3D%3D">行业研究报告</a> （国内券商的行业报告，策略报告，可以筛选行业，筛选报告类型）</li>
<li><a target="_blank" rel="noopener" href="https://pitchbook.com/news/reports">https://pitchbook.com/news/reports</a>（PitchBook的PE,VC，M&amp;A行业报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.chinaventure.com.cn/cmsmodel/report/study/count/list.shtml">研究院_ChinaVenture投资中国网</a> （IPO 投融资行业报告）</li>
<li><a target="_blank" rel="noopener" href="http://www.dowjones.com/press-room/dow-jones-venturesource-2q16-u-s-venture-capital-report/">Dow Jones VentureSource 2Q’16 U.S. Venture Capital Report</a>（道琼斯旗下机构Dow Jones LP Source行业投资报告）</li>
<li>NVCA <a target="_blank" rel="noopener" href="http://nvca.org/research/venture-investment/">Venture Investment</a>（美国国家风险投资协会，每个季度和年度都会出投融资行业报告）</li>
<li>PWC-<a target="_blank" rel="noopener" href="https://www.pwcmoneytree.com/">MoneyTree Home</a>（PWC的money tree report是每个季度美国的风险投资行业报告）</li>
<li><a target="_blank" rel="noopener" href="https://home.kpmg.com/xx/en/home/insights.html">https://home.kpmg.com/xx/en/home/insights.html</a> （KPMG毕马威的insights报告，一般是每个季度的创投趋势，比较细致的分析）</li>
<li><a target="_blank" rel="noopener" href="https://mattermark.com//">Mattermark - Discover, Enrich, &amp; Analyze Companies</a>（创业公司投资并购信息一站式搜索）</li>
<li><a target="_blank" rel="noopener" href="http://pitchbook.com/">M&amp;A, Private Equity &amp; Venture Capital Database</a>（创业公司投资并购信息一站式搜索）</li>
<li><a target="_blank" rel="noopener" href="http://www.datafox.com/">DataFox | Prospect Sales Leads with Company Signals</a>（创业公司投资并购信息一站式搜索）</li>
<li><a target="_blank" rel="noopener" href="https://www.crunchbase.com/%23/home/index">CrunchBase accelerates innovation by bringing together data on companies and the people behind them.</a>（创业公司数据库）</li>
<li><a target="_blank" rel="noopener" href="http://www.ventureintelligence.com/">Venture Intelligence</a> PE&#x2F;VC database</li>
<li><a target="_blank" rel="noopener" href="https://seekingalpha.com/">Stock Market Insights | Seeking Alpha</a> （二级市场金融分析网站）</li>
<li><a target="_blank" rel="noopener" href="http://www.trefis.com/modeldemo/institutional/22340/Qpiyk/0700.HK%3FeasyAccessToken%3DPROVIDER_cf15b6285eebd7b94e7c2aa257b8c75161ce8a8c">Tencent Holdings Ltd – Trefis</a>（各个公司的revenue model的预测和key driver的趋势，这个网站简直不能再棒）</li>
</ol>
<h2 id="13-本地数据库"><a href="#13-本地数据库" class="headerlink" title="13.  本地数据库"></a>13.  本地数据库</h2><p>这个世界有很多有用的信息，搜索引擎只解决了其中20%，其他80%的信息再各个角落，包括微信群，包括口口，甚至包括直播里都有，但是都不在搜索引擎。</p>
<p>就搜索引擎而言，现在很多人只是使用了其中的5%还不到。搜索引擎的技巧可以提升，但是其他80%的信息获取渠道更为隐蔽和无法公开获得的。</p>
<p>我加了很多 群，里面都是这些报告和信息和各行各业的各种信息，这些是搜索引擎提供不了的</p>
<p>这些冰山下的信息才决定了信息的获取的不同和优质与否。</p>
<p>除了上述渠道外，能找到靠谱渠道，找到合适的报告随时存储起来，等用的时候随手打开用是最好的。分享一个我最近看的收藏的精品的报告收藏夹，也希望对你们有用（随时更新）</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/134761207">共享下我看过的精品报告的收藏夹list</a></p>
<h2 id="14-怎么提炼自己获取信息的层次和获取信息的价值"><a href="#14-怎么提炼自己获取信息的层次和获取信息的价值" class="headerlink" title="14. 怎么提炼自己获取信息的层次和获取信息的价值"></a>14. <strong>怎么提炼自己获取信息的层次和获取信息的价值</strong></h2><p>找到行业信息报告知识获取信息只是其中一个层次 ，获取信息是否更有价值更直接可用，在于基本功行业信息报告的甄别和获取，积累和提炼，这是非常重要的。</p>
<p>但是 越往上走，越是接近信息更有价值，更新鲜，更真实有效，更直接，有大量的渠道 可以 获得更多 的信息，这些不仅是通过 行业报告获取的，还有包括自己可以控制的方法，包括爬虫，数据挖掘，信息技术 等，还包括人脉，圈子，内幕的等渠道。大家感兴趣可以到这个答案看下详情，我对每个层级的方法的解读。</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/24326030/answer/1153055468">哪些渠道可以获取一般人不知道的知识和信息</a></p>
<h2 id="15-其他（不定期更新）"><a href="#15-其他（不定期更新）" class="headerlink" title="15. 其他（不定期更新）"></a>15. 其他（不定期更新）</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.ibm.com/cn-zh/services/insights/institute-business-value">IBM商业价值研究院</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hivan.me/Analysis_data_and_research_report_collection/" data-id="clid1r2fw000556j78wxvhlrv" data-title="" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/9/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/11/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/develop/">develop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/software/">software</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%8E%A5%E8%A7%A6%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%A4%A7%E6%A8%A1%E5%9E%8B/">从零开始接触人工智能大模型</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ChatGPT/" rel="tag">ChatGPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gmail/" rel="tag">Gmail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google-Plus/" rel="tag">Google Plus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gplus/" rel="tag">Gplus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mail/" rel="tag">Mail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Model/" rel="tag">Model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NFC/" rel="tag">NFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/O2O/" rel="tag">O2O</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PS/" rel="tag">PS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QQ/" rel="tag">QQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SNS/" rel="tag">SNS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stable-Diffusion/" rel="tag">Stable Diffusion</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tool/" rel="tag">Tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Translate/" rel="tag">Translate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/allove/" rel="tag">allove</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/app/" rel="tag">app</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/avn/" rel="tag">avn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bluehost/" rel="tag">bluehost</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/" rel="tag">code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/device/" rel="tag">device</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/feed/" rel="tag">feed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flickr/" rel="tag">flickr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/forward/" rel="tag">forward</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gmail/" rel="tag">gmail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/habari/" rel="tag">habari</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ifttt/" rel="tag">ifttt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/install/" rel="tag">install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ireader/" rel="tag">ireader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/istef/" rel="tag">istef</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/location/" rel="tag">location</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/more/" rel="tag">more</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/net/" rel="tag">net</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nitrous/" rel="tag">nitrous</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pageflakes/" rel="tag">pageflakes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/picasaweb/" rel="tag">picasaweb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plugin/" rel="tag">plugin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reader/" rel="tag">reader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/research/" rel="tag">research</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/search/" rel="tag">search</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sms/" rel="tag">sms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/telnet/" rel="tag">telnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/twitter/" rel="tag">twitter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/url/" rel="tag">url</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/version/" rel="tag">version</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-8/" rel="tag">windows 8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordpress/" rel="tag">wordpress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E6%9D%AF/" rel="tag">世界杯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E5%8D%9A/" rel="tag">微博</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E5%8C%BA/" rel="tag">时区</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A4%BE%E4%BA%A4/" rel="tag">社交</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8A%B1%E5%84%BF%E5%BC%80%E4%BA%86/" rel="tag">花儿开了</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%A8%E6%83%85/" rel="tag">表情</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%87%E6%BB%A4%E5%99%A8/" rel="tag">过滤器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E5%BA%A6/" rel="tag">进度</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 20px;">AI</a> <a href="/tags/ChatGPT/" style="font-size: 10px;">ChatGPT</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/Gmail/" style="font-size: 10px;">Gmail</a> <a href="/tags/Google/" style="font-size: 18px;">Google</a> <a href="/tags/Google-Plus/" style="font-size: 10px;">Google Plus</a> <a href="/tags/Gplus/" style="font-size: 10px;">Gplus</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Mail/" style="font-size: 10px;">Mail</a> <a href="/tags/Model/" style="font-size: 10px;">Model</a> <a href="/tags/NFC/" style="font-size: 10px;">NFC</a> <a href="/tags/O2O/" style="font-size: 10px;">O2O</a> <a href="/tags/PS/" style="font-size: 10px;">PS</a> <a href="/tags/Python/" style="font-size: 16px;">Python</a> <a href="/tags/QQ/" style="font-size: 10px;">QQ</a> <a href="/tags/SNS/" style="font-size: 10px;">SNS</a> <a href="/tags/Stable-Diffusion/" style="font-size: 12px;">Stable Diffusion</a> <a href="/tags/Tool/" style="font-size: 10px;">Tool</a> <a href="/tags/Translate/" style="font-size: 10px;">Translate</a> <a href="/tags/allove/" style="font-size: 10px;">allove</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/avn/" style="font-size: 10px;">avn</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/bluehost/" style="font-size: 10px;">bluehost</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/device/" style="font-size: 10px;">device</a> <a href="/tags/feed/" style="font-size: 10px;">feed</a> <a href="/tags/flickr/" style="font-size: 10px;">flickr</a> <a href="/tags/forward/" style="font-size: 10px;">forward</a> <a href="/tags/gmail/" style="font-size: 10px;">gmail</a> <a href="/tags/habari/" style="font-size: 16px;">habari</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/ifttt/" style="font-size: 12px;">ifttt</a> <a href="/tags/install/" style="font-size: 10px;">install</a> <a href="/tags/ireader/" style="font-size: 10px;">ireader</a> <a href="/tags/istef/" style="font-size: 10px;">istef</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/location/" style="font-size: 10px;">location</a> <a href="/tags/more/" style="font-size: 10px;">more</a> <a href="/tags/net/" style="font-size: 10px;">net</a> <a href="/tags/nitrous/" style="font-size: 10px;">nitrous</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/pageflakes/" style="font-size: 10px;">pageflakes</a> <a href="/tags/picasaweb/" style="font-size: 10px;">picasaweb</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/reader/" style="font-size: 10px;">reader</a> <a href="/tags/research/" style="font-size: 10px;">research</a> <a href="/tags/search/" style="font-size: 10px;">search</a> <a href="/tags/sms/" style="font-size: 10px;">sms</a> <a href="/tags/telnet/" style="font-size: 10px;">telnet</a> <a href="/tags/twitter/" style="font-size: 12px;">twitter</a> <a href="/tags/url/" style="font-size: 10px;">url</a> <a href="/tags/version/" style="font-size: 10px;">version</a> <a href="/tags/windows-8/" style="font-size: 10px;">windows 8</a> <a href="/tags/wordpress/" style="font-size: 14px;">wordpress</a> <a href="/tags/%E4%B8%96%E7%95%8C%E6%9D%AF/" style="font-size: 10px;">世界杯</a> <a href="/tags/%E5%BE%AE%E5%8D%9A/" style="font-size: 10px;">微博</a> <a href="/tags/%E6%97%B6%E5%8C%BA/" style="font-size: 10px;">时区</a> <a href="/tags/%E7%A4%BE%E4%BA%A4/" style="font-size: 10px;">社交</a> <a href="/tags/%E8%8A%B1%E5%84%BF%E5%BC%80%E4%BA%86/" style="font-size: 10px;">花儿开了</a> <a href="/tags/%E8%A1%A8%E6%83%85/" style="font-size: 10px;">表情</a> <a href="/tags/%E8%BF%87%E6%BB%A4%E5%99%A8/" style="font-size: 10px;">过滤器</a> <a href="/tags/%E8%BF%9B%E5%BA%A6/" style="font-size: 10px;">进度</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">七月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">四月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">一月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">十一月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">七月 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">十二月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">四月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10/">十月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02/">二月 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/06/">六月 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10/">十月 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/09/">九月 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/06/">六月 2006</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/Use-AI-to-write-a-snake-game/">利用AI写一个『贪吃蛇游戏』</a>
          </li>
        
          <li>
            <a href="/Use-multi-step-prompts-to-ask-AI-to-write-tests-for-you/">13 使用多步提示语让AI帮你写测试</a>
          </li>
        
          <li>
            <a href="/AI-create-a-excel-plugin/">12 AI帮你写个小插件，轻松处理Excel文件</a>
          </li>
        
          <li>
            <a href="/Save-costs-with-an-open-source-model/">11 用好开源模型节约成本</a>
          </li>
        
          <li>
            <a href="/Use-AI-to-index-and-analyze-documents-and-images/">10 利用AI索引并分析文献和图片</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Hivan Du<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>