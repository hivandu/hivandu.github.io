<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>25. matplotlib - 茶桁.MAMT</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="茶桁.MAMT"><meta name="msapplication-TileImage" content="https://qiniu.hivan.me/picGo/20230601174411.png?imgNote"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="茶桁.MAMT"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Hi, 大家好。我是茶桁。"><meta property="og:type" content="blog"><meta property="og:title" content="25. matplotlib"><meta property="og:url" content="https://hivan.me/AI-Python-matplotlib/"><meta property="og:site_name" content="茶桁.MAMT"><meta property="og:description" content="Hi, 大家好。我是茶桁。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-08-19T12:42:01.000Z"><meta property="article:modified_time" content="2023-11-25T11:42:02.412Z"><meta property="article:author" content="Hivan Du"><meta property="article:tag" content="Python"><meta property="twitter:card" content="summary"><meta property="twitter:creator" content="@hivan"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hivan.me/AI-Python-matplotlib/"},"headline":"25. matplotlib","image":[],"datePublished":"2023-08-19T12:42:01.000Z","dateModified":"2023-11-25T11:42:02.412Z","author":{"@type":"Person","name":"Hivan Du"},"publisher":{"@type":"Organization","name":"茶桁.MAMT","logo":{"@type":"ImageObject","url":"https://hivan.me/img/logo.svg"}},"description":"Hi, 大家好。我是茶桁。"}</script><link rel="canonical" href="https://hivan.me/AI-Python-matplotlib/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="茶桁.MAMT" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="茶桁.MAMT" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hivandu"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-19T12:42:01.000Z" title="8/19/2023, 8:42:01 PM">2023-08-19</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/AI%E7%A7%98%E7%B1%8D/">AI秘籍</a><span> / </span><a class="link-muted" href="/categories/AI%E7%A7%98%E7%B1%8D/Python/">Python</a></span></div></div><h1 class="title is-3 is-size-4-mobile">25. matplotlib</h1><div class="content"><p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941111.png" /></p>
<p>Hi, 大家好。我是茶桁。</p>
<span id="more"></span>
<p>在上一节课中，我们结束了Python正式的所有内容，但是咱们的Python课程还未结束。从这节课开始，我们要来学习一下Python的第三方库。</p>
<p>Python的生态非常完善也非常活跃，我们不太可能讲目前所有的第三方库全部都介绍一遍，只介绍几个有影响力并且和处理数据相关的。那今天第一Part，我们就先来学习<code>matplotlib</code>。</p>
<p>在之后的课程中，Python的基础理论我就不会细讲了，咱们重点是要快速的认识和学会第三方库。有什么语法上的问题，可以翻看前面几节的教程。</p>
<h2 id="matplotlib是什么">matplotlib是什么？</h2>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941112.png" /></p>
<p>Matplotlib是一个Python
2D绘图库，它可以在各种平台上以各种硬拷贝格式和交互式环境生成出具有
出版品质的图形。 Matplotlib可用于Python脚本，Python和IPython
shell，Jupyter笔记本，Web应用 程序服务器和四个图形用户界面工具包。</p>
<p>Matplotlib试图让简单的事情变得更简单，让无法实现的事情变得可能实现。
只需几行代码即可生成绘图，直方图，功率谱，条形图，错误图，散点图等。</p>
<p>为了简单绘图，pyplot模块提供了类似于MATLAB的界面，特别是与IPython结合使用时。
对于高级用户，您可以通过面向对象的界面或MATLAB用户熟悉的一组函数完全控制线条样式，字体属性，轴属性等。</p>
<p>那么，我们<strong>为什么要学习matplotlib</strong>呢？</p>
<p>可视化是在整个数据挖掘的关键辅助工具，可以清晰的理解数据，从而调整我们的分析方法。</p>
<p>能将数据进行可视化,更直观的呈现 使数据更加客观、更具说服力</p>
<p>例如下面两个图为数字展示和图形展示：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941113.png" /></p>
<p>以上两个图形中，第一组是完全的数据。我们基本很难看出这组数据到底谁大谁小，当然，从位数上我们还是可以比较容易辨认，但是比起第二张图呢？是不是第二张图就非常清晰的展示了数据的大小，一目了然？</p>
<p>那既然我们要学习的是数据可视化，我们首先要做的，必定是要先了解一下常见数据图表，知道其种类和意义。</p>
<h2 id="常见图形种类及意义">常见图形种类及意义</h2>
<p>我们首先要先了解具体的图形，才能知道我们在什么情况下使用什么图形来表示。</p>
<ul>
<li>折线图：以折线的上升或下降来表示统计数量的增减变化的统计图。特点是：<strong>能够显示数据的变化趋势，反映事物的变化情况。(变化)</strong></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941114.png" /></p>
<ul>
<li>散点图：用两组数据构成多个坐标点，考察坐标点的分布,判断两变量之间是否存在某种关联或总结坐标点的分布模式。特点是：<strong>判断变量之间是否存在数量关联趋势,展示离群点(分布规律)</strong></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941115.png" /></p>
<ul>
<li>柱状图：排列在工作表的列或行中的数据可以绘制到柱状图中。特点是：<strong>绘制连离散的数据,能够一眼看出各个数据的大小,比较数据之间的差别。(统计/对比)</strong></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941116.png" /></p>
<ul>
<li>直方图：由一系列高度不等的纵向条纹或线段表示数据分布的情况。
一般用横轴表示数据范围，
纵轴表示分布情况。特点是：<strong>绘制连续性的数据展示一组或者多组数据的分布状况(统计)</strong></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941117.png" /></p>
<ul>
<li>饼图：用于表示不同分类的占比情况，通过弧度大小来对比各种分类。特点是：<strong>分类数据的占比情况(占比)。</strong></li>
</ul>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941118.png" /></p>
<h2 id="matplotlib画图实现">matplotlib画图实现</h2>
<p>首先我们要知道，Python的第三方库几乎全部都需要额外安装才行。我们之前在讲Python环境的时候有提到如何创建虚拟环境以及如何安装第三方库。那我们现在，就来直接安装一下，还记得么？我用的环境是<code>conda</code>，
所以我的安装命令都是使用<code>conda</code>的，不过你将其咱们课程中还是要使用最普遍的方式，所以以下我都会替换成<code>pip</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install motplotlib<br></code></pre></td></tr></table></figure>
<p>执行完毕后，<code>motplotlib</code>就安装到您的Python环境内了。</p>
<p>建议在Python环境内安装好Jupyter来进行学习，你会发现简直太方便了。如果是在Jupyter内，那么会在代码执行之后的下方直接显示出结果，而如果我们是使用<code>python xx.py</code>来执行，那Python会调用内部的绘图器来进行显示。</p>
<p><strong>Jupyter for vscode</strong></p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941119.png" /></p>
<p><strong>Python绘图器</strong></p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941120.png" /></p>
<p>当然，你也可以自己在命令行内起一个<code>Jupyter notebook</code>服务，那就可以直接在浏览器上进行操作了。</p>
<p><strong>Jupyter Notebook</strong></p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941121.png" /></p>
<p>当然几种方法中，我还是最推崇在VSCode中进行。毕竟我们还是需要代码提示的。</p>
<p>在正式开始之前，让我们对matplotlib的图像结构建立一个认识：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941122.png" /></p>
<p>现在让我们来具体的实现一下，做一个简单的图形：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 导入模块</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-comment"># 这段代码会让之后的代码在Jupyter内执行的时候显示图片</span><br>%matplotlib inline<br><span class="hljs-comment"># 传入x,y, 通过plot画图</span><br>plt.plot([<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">9</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>])<br><span class="hljs-comment"># 在执行程序的时候显示图形</span><br>plt.show()<br></code></pre></td></tr></table></figure>
<p>在这段代码中，我们使用<code>plot</code>来进行了绘制，<code>x</code>和<code>y</code>分别是<code>plot</code>的两个参数，代表了<code>x</code>轴和<code>y</code>轴。那么这两个轴分别接受了一个列表，那就是有三个点，第一个点是<code>(1,4)</code>,
第二个点是<code>(0,5)</code>，
第三个点是<code>(9,6)</code>。最后，我们使用<code>show()</code>函数来进行最终呈现。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941123.png" /></p>
<h2 id="绘图折线图">绘图折线图</h2>
<p>首先，我们来绘制一个折线图，这次我们用变量存储数据的方式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 绘制折线图</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">8</span>) <span class="hljs-comment"># x轴的位置</span><br>y = [<span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">18</span>, <span class="hljs-number">15</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>]<br><span class="hljs-comment"># 传入x,y，plot绘图</span><br>plt.plot(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941124.png" /></p>
<p>然后，我们对这个折线图进行一下设置，修改颜色和形状：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 绘制折线图</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">8</span>) <span class="hljs-comment"># x轴的位置</span><br>y = [<span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">18</span>, <span class="hljs-number">15</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>]<br><span class="hljs-comment"># 传入x,y，plot绘图</span><br>plt.plot(x, y, color=<span class="hljs-string">&#x27;red&#x27;</span>, alpha=<span class="hljs-number">0.5</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, linewidth=<span class="hljs-number">3</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941126.png" /></p>
<p>我们对<code>plot</code>函数传递了几个参数修改了折线的样式，其中<code>color</code>是折线的颜色，<code>alpha</code>是折线的透明度（0-1），
<code>linestyle</code>是折线的样式，
<code>linewidth</code>是折线的宽度。</p>
<p><code>linestyle</code>的几个值分别是：<code>-</code>实线(solid)，这个也是默认值；<code>--</code>短线(dashed)；
<code>-.</code>短点相间线(dashdot)； <code>:</code>虚线点(dotted)。</p>
<h4 id="关键点样式">关键点样式</h4>
<p>让我们接着进行修改这段折线样式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">...<br><span class="hljs-comment"># 传入x,y，plot绘图</span><br>plt.plot(x, y, color=<span class="hljs-string">&#x27;red&#x27;</span>, alpha=<span class="hljs-number">0.5</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, linewidth=<span class="hljs-number">3</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941127.png" /></p>
<p>我们这次只增加了一个参数，很明显，<code>marker</code>就是关键点的样式。</p>
<p>折线和关键点到底有哪些值呢？我们看一下下面这个表：</p>
<table>
<thead>
<tr class="header">
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-</code></td>
<td>solid line style</td>
</tr>
<tr class="even">
<td><code>--</code></td>
<td>dashed line style</td>
</tr>
<tr class="odd">
<td><code>-.</code></td>
<td>dash-dot line style</td>
</tr>
<tr class="even">
<td><code>:</code></td>
<td>dotted line style</td>
</tr>
<tr class="odd">
<td><code>.</code></td>
<td>point marker</td>
</tr>
<tr class="even">
<td><code>,</code></td>
<td>pixel marker</td>
</tr>
<tr class="odd">
<td><code>o</code></td>
<td>circle marker</td>
</tr>
<tr class="even">
<td><code>v</code></td>
<td>triangle_down marker</td>
</tr>
<tr class="odd">
<td><code>^</code></td>
<td>triangle_up marker</td>
</tr>
<tr class="even">
<td><code>&lt;</code></td>
<td>triangle_left marker</td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>triangle_right marker</td>
</tr>
<tr class="even">
<td><code>1</code></td>
<td>tri_down marker</td>
</tr>
<tr class="odd">
<td><code>2</code></td>
<td>tri_up marker</td>
</tr>
<tr class="even">
<td><code>3</code></td>
<td>tri_left marker</td>
</tr>
<tr class="odd">
<td><code>4</code></td>
<td>tri_right marker</td>
</tr>
<tr class="even">
<td><code>s</code></td>
<td>square marker</td>
</tr>
<tr class="odd">
<td><code>p</code></td>
<td>pentagon marker</td>
</tr>
<tr class="even">
<td><code>*</code></td>
<td>star marker</td>
</tr>
<tr class="odd">
<td><code>h</code></td>
<td>hexagon1 marker</td>
</tr>
<tr class="even">
<td><code>H</code></td>
<td>hexagon2 marker</td>
</tr>
<tr class="odd">
<td><code>+</code></td>
<td>plus marker</td>
</tr>
<tr class="even">
<td><code>x</code></td>
<td>x marker</td>
</tr>
<tr class="odd">
<td><code>D</code></td>
<td>diamond marker</td>
</tr>
<tr class="even">
<td><code>d</code></td>
<td>thin_diamond marker</td>
</tr>
<tr class="odd">
<td><code>|</code></td>
<td>vline marker</td>
</tr>
<tr class="even">
<td><code>_</code></td>
<td>hline marker</td>
</tr>
</tbody>
</table>
<p>如果看不懂描述的小伙伴，最直接的办法就是放到代码里直接运行一下看看。</p>
<p>当然，我们还可以改变关键点的大小等参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.plot(x, y, color=<span class="hljs-string">&#x27;red&#x27;</span>, alpha=<span class="hljs-number">0.5</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, linewidth=<span class="hljs-number">3</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>, markersize=<span class="hljs-string">&#x27;10&#x27;</span>,markeredgecolor=<span class="hljs-string">&#x27;blue&#x27;</span>, markeredgewidth=<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>
<p>那这里面，<code>markersize</code>是表示关键点的大小，<code>markeredgecolor</code>是关键点边框的颜色，<code>markeredgewidth</code>就是关键点边框的宽度。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941128.png" /></p>
<p>既然图片渲染出来了，那我们总是需要进行保存的。那么下面，我们就看看如何将图片保存下来，在保存之前，我们还会根据需要设置一下图片的大小。</p>
<h4 id="设置图片大小和保存">设置图片大小和保存</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> random<br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">26</span>, <span class="hljs-number">2</span>) <span class="hljs-comment"># x轴的位置</span><br>y = [random.randint(<span class="hljs-number">15</span>, <span class="hljs-number">30</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x]<br><br><span class="hljs-comment"># 设置图片大小</span><br>plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br>plt.plot(x,y)<br><span class="hljs-comment"># plt.show()</span><br><span class="hljs-comment"># 保存</span><br>plt.savefig(<span class="hljs-string">&#x27;./data/img/t1.png&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p>我们依次来看这段代码，里面有我们认识的也有我们不认识的。其中的<code>random</code>是为了生成随机数，这个我们就先不管了。直接看设置部分。</p>
<p><code>figsize</code>这参数是为了指定<code>figure</code>的宽和高，单位为英寸。</p>
<p><code>dpi</code>参数指定绘图对象的分辨率，即每英寸多少个像素，缺省值为80，1英寸等于2.5cm,
A4纸为21*30cm的纸张。</p>
<p>然后我们继续往下看，<code>savefig</code>就是指定目录进行保存。这里我们需要注意两点：</p>
<ol type="1">
<li>如果保存的目录有路径不存在，则会报错无法保存。</li>
<li>我们需要<code>savefig</code>的时候尽量不要使用<code>show</code>方法，因为<code>savefig</code>也具备了展示图片的功能，并且，如果<code>show</code>存在的话，在展示完图片之后，会释放<code>figuer</code>资源，那么<code>savefig</code>保存下来的图片将会是空白的。就好比我们<code>open('file', 'a+') as fp</code>一个文件，在使用<code>fp.write</code>的时候没有往里面写入内容。因为这些内容被上面一个方法清空了，但是文件我还是会保存的，只是文件内没有任何内容。</li>
</ol>
<p>然后我们回过头来继续看我们写的这段代码，其实<code>savefig</code>能存储的文件格式很多，包括能够存储<code>svg</code>格式的矢量图。只需要<code>plt.savefig('./t1.svg')</code>，保存的时候换一下后缀名就可以了。</p>
<p>现在让我们看下保存好的图片：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941129.png" /></p>
<h4 id="绘制轴上的刻度">绘制轴上的刻度</h4>
<p>有没有发现，虽然我们折线图是正常的，但是似乎x轴上的刻度区间太大了，并不是所有关键点都明显展示出来了。那现在我们就来设置一下x轴和y轴的刻度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">...<br><span class="hljs-comment"># 设置x轴的刻度</span><br>plt.xticks(x)<br><span class="hljs-comment"># # 设置y轴的刻度</span><br>plt.yticks(y)<br><br><span class="hljs-comment"># 设置图片大小</span><br>plt.plot(x,y)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p>这段代码中我们将保存文件的代码去掉了。因为主要是进行设置，所以我们展示一下看看正确与否就行了。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941130.png" /></p>
<p>我们看到现在的图片，刻度上<code>x</code>轴遵循了我们之前对<code>x</code>的设定，(2,
26, 2)， 从2开始，到25，
并且步进值为2.<code>y</code>轴呢？因为是随机数，所以关键点的分布并不均匀。</p>
<p>这个时候，我就又需要进行修改了，一个是<code>y</code>轴的刻度要分配的更均匀，再有就是<code>x</code>轴上，我希望区间为1，而不是2。让我们来对其进行下修改：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">...<br><span class="hljs-comment"># 设置x轴的刻度</span><br>plt.xticks(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">25</span>))<br><span class="hljs-comment"># 设置y轴的刻度</span><br>plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">min</span>(y), <span class="hljs-built_in">max</span>(y)+<span class="hljs-number">1</span>))<br><br><span class="hljs-comment"># 设置图片大小</span><br>plt.plot(x,y)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941131.png" /></p>
<p>似乎图不太一样，原因是因为我在代码中使用的是随机数函数<code>random.randint</code>来差生<code>y</code>轴的数据，所以每次生成的图片都会有些不同。</p>
<p>我们来好好看看轴线上的刻度。确实和关键点都对应上了。并且比起关键点来说更密集一点。原因就在于，我们将<code>x</code>的刻度点范围改为<code>(1, 25)</code>，无步进值。<code>y</code>轴在绘制的时候也做了定义，范围设置为<code>(最小的y值, 最大的y值+1)</code>，同样，也是没有步进值。这样，两个轴上的刻度分布就非常均匀了。</p>
<p><strong>这里的关键知识点</strong>就是：我们可以使用<code>xticks</code>和<code>yticks</code>来生成<code>x</code>轴刻度或者<code>y</code>轴刻度，并且，在其中可以传递参数来对<code>x</code>轴上的刻度和<code>y</code>轴上的刻度进行定义。</p>
<p>不过我们现在这个还是无法满足需求，原因就在于我们这个折线图是为了显示不同时间点上的温度变化。那么我们就必须要让x轴显示时间，而y轴显示温度。</p>
<p>让我们继续修改一下,这里我们就只展示轴线代码的修改：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 构造x轴刻度标签</span><br>x_ticks_label = [<span class="hljs-string">&quot;&#123;&#125;:00&quot;</span>.<span class="hljs-built_in">format</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x]<br><span class="hljs-comment"># 让字旋转45度</span><br>plt.xticks(x, x_ticks_label, rotation=<span class="hljs-number">45</span>)<br><br><span class="hljs-comment"># 构造y轴的刻度标签</span><br>y_ticks_label = [<span class="hljs-string">&quot;&#123;&#125;℃&quot;</span>.<span class="hljs-built_in">format</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">min</span>(y), <span class="hljs-built_in">max</span>(y)+<span class="hljs-number">1</span>)]<br>plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">min</span>(y), <span class="hljs-built_in">max</span>(y)+<span class="hljs-number">1</span>), y_ticks_label)<br></code></pre></td></tr></table></figure>
<p>最后生成的图片：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941132.png" /></p>
<p>这里，我们使用了<code>x_ticks_label</code>来设置了<code>x</code>轴的刻度上显示的信息。当然，<code>y</code>轴也是相同的方式。然后将<code>label</code>传入轴刻度生成方法<code>xticks</code>中进行刻度生成，在生成的时候，我们还使用了<code>xticks</code>的参数<code>rotation</code>设置为<code>45</code>来完成了<code>label</code>的旋转。</p>
<h4 id="设置显示中文">设置显示中文</h4>
<p>不过这并未结束，<code>matplotlib</code>默认是只显示英文的，无法显示中文。但是我们无论是刻度，图标题，很多时候都必须显示中文。该怎么办呢？</p>
<p>接下来就让我们来看看如何修改matplotlib的默认字体。这一段，我们重新写一个需求，来看看2个小时内每分钟跳动变化。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> font_manager<br><span class="hljs-keyword">import</span> random<br><br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">120</span>)<br>y = [random.randint(<span class="hljs-number">10</span>, <span class="hljs-number">30</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">120</span>)]<br><br>plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br>plt.plot(x,y)<br><br><br><span class="hljs-comment"># 设置字体和Label</span><br>my_font = font_manager.FontProperties(fname=<span class="hljs-string">&#x27;/System/Library/Fonts/PingFang.ttc&#x27;</span>, size=<span class="hljs-number">18</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;时间&#x27;</span>, fontproperties=my_font)<br>plt.ylabel(<span class="hljs-string">&#x27;次数&#x27;</span>, fontproperties=my_font)<br><br><span class="hljs-comment"># 设置标题</span><br>plt.title(<span class="hljs-string">&#x27;每分钟跳动次数&#x27;</span>, fontproperties=my_font, color=<span class="hljs-string">&#x27;red&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941133.png" /></p>
<p>我们引入了<code>font_manager</code>，然后利用它设置了我们需要用到的字体（必须是中文字体）给到一个变量<code>my_font</code>内。最后在设置label的时候，将字体设置为这个变量。</p>
<p>这样，我们就完成了中文字体的显示。</p>
<p>作为对比，我们来看看这样设置的是什么样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">...<br>plt.xlabel(<span class="hljs-string">&#x27;时间&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;次数&#x27;</span>)<br>plt.title(<span class="hljs-string">&#x27;每分钟跳动次数&#x27;</span>,color=<span class="hljs-string">&#x27;red&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941134.png" /></p>
<h4 id="一图多线">一图多线</h4>
<p>大多数时候，我们的一张图表上可能不仅需要一条线。而是两条线相互交错。这就形成了两组数据的对比，我们打个比方来说：我们正在和一位同事竞争销售额，需要查看去年（2022年）全年的数据对比：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 销售额数据对比</span><br>y1 = [<span class="hljs-number">20</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">40</span>,<span class="hljs-number">30</span>,<span class="hljs-number">40</span>,<span class="hljs-number">40</span>,<span class="hljs-number">50</span>,<span class="hljs-number">60</span>,<span class="hljs-number">50</span>,<span class="hljs-number">40</span>]<br>y2 = [<span class="hljs-number">10</span>,<span class="hljs-number">30</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>,<span class="hljs-number">40</span>,<span class="hljs-number">20</span>,<span class="hljs-number">10</span>,<span class="hljs-number">30</span>,<span class="hljs-number">30</span>,<span class="hljs-number">80</span>,<span class="hljs-number">30</span>,<span class="hljs-number">20</span>]<br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">13</span>)<br><br><span class="hljs-comment"># 设置图形</span><br>plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br><br>plt.plot(x, y1, color=<span class="hljs-string">&#x27;orange&#x27;</span>, label=<span class="hljs-string">&quot;茶桁&quot;</span>)<br>plt.plot(x, y2, color=<span class="hljs-string">&#x27;green&#x27;</span>, label=<span class="hljs-string">&#x27;同事&#x27;</span>)<br><br><span class="hljs-comment"># 设置x轴刻度</span><br>xtick_labels = [<span class="hljs-string">&#x27;&#123;&#125;月&#x27;</span>.<span class="hljs-built_in">format</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x]<br>my_font = font_manager.FontProperties(fname=<span class="hljs-string">&#x27;/System/Library/Fonts/PingFang.ttc&#x27;</span>, size=<span class="hljs-number">24</span>)<br><br>plt.xticks(x, xtick_labels, fontproperties=my_font, rotation=<span class="hljs-number">45</span>)<br><br><span class="hljs-comment"># 绘制网格</span><br>plt.grid(alpha=<span class="hljs-number">0.4</span>) <span class="hljs-comment">#网格也可以设置样式，这里透明度为0.4</span><br><br><span class="hljs-comment"># 添加图例(注意：只有在这里需要添加prop参数是显示中文，其他的都用fontproperties)</span><br><span class="hljs-comment"># 设置位置loc : upper left、 lower left、 center left、 upper center</span><br>plt.legend(prop=my_font, loc=<span class="hljs-string">&#x27;upper right&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p>我们在代码中设置两两组数据，分别为<code>y1, y2</code>。这两组数据一共12个，对应了12个月份。然后我们在<code>plot</code>方法中设置了线条的颜色，设置了这条线条对应的数据，并且添加了<code>label</code>。意在对这个线条写个说明。</p>
<p>在之后，我们添加了<code>grid</code>网格，意图让线条上的关键点更明显。</p>
<p>最后使用<code>legend</code>来完成<code>plot</code>中设置的<code>label</code>的显示，并在其中设置了显示所用字体。这里需要注意的是，在<code>legend</code>方法中设置字体所用的形参是<code>prop</code>而非<code>fontproperties</code>。在最后，我们使用<code>loc</code>设置了这两个<code>label</code>显示的位置，其中的关键字<code>upper right</code>代表的是两个方位「上，右」，来确定显示位置为右上角。</p>
<p>最后，我们绘制的图片显示如图：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941135.png" /></p>
<p>从图上能明显看出来，我的销售数据是在稳步上升的，而同事起伏比较大。大部分时候我占优势，可是旺季时顶峰数据同事比我高很多，所以说基本上是各有千秋。</p>
<p>基于折线图，我们再来看几个拓展的部分。</p>
<p>首先，我们在绘图的时候，实际上是支持<strong>多个坐标系绘制在一张图上</strong>的。这也经常是数据图对比经常用到的方式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 多个坐标系子图 add_subplot方法，给figure新增子图</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>x = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>fig = plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)<br><br><span class="hljs-comment"># 子图1</span><br>ax1 = fig.add_subplot(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>ax1.plot(x,x)<br><span class="hljs-comment"># 子图2</span><br>ax2 = fig.add_subplot(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>ax2.plot(x, x**<span class="hljs-number">2</span>)<br>ax2.grid(color=<span class="hljs-string">&#x27;r&#x27;</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, linewidth=<span class="hljs-number">1</span>, alpha=<span class="hljs-number">0.3</span>)<br><span class="hljs-comment"># 子图3</span><br>ax3 = fig.add_subplot(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>ax3.plot(x, np.log(x))<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p>我们利用<code>add_subplot</code>方法，在一个<code>figure</code>上添加了三个子图。</p>
<p>其次，有一些时候，我们需要<strong>对坐标轴范围进行设定</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 设定坐标轴范围</span><br>x = np.arange(-<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">1</span>)<br>y = x ** <span class="hljs-number">2</span><br>plt.plot(x,y)<br><br><span class="hljs-comment"># plt.xlim([-5,5])</span><br><br><span class="hljs-comment"># 单边调整</span><br><span class="hljs-comment"># plt.xlim(xmin=-4)</span><br><span class="hljs-comment"># plt.xlim(xmax=4)</span><br><br>plt.ylim(ymin=<span class="hljs-number">0</span>)<br>plt.xlim(xmin=<span class="hljs-number">0</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p>在这段代码中，我展示了三个调整范围的方式。</p>
<p>第一个是使用数组划定范围来进行调整。</p>
<p>第二个方式是分别设定一边的值（最小值或者最大值）。</p>
<p>最后一个方式是只设定x轴和y轴的最小值。下图展示的是第三个方式绘制的图：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941136.png" /></p>
<p>当然，坐标轴并不会是一成不变的。有的时候我们可能需要y轴在x轴的正中间。所以我们需要<strong>改变坐标轴的默认显示方式</strong></p>
<p>我们先来看看原本的图默认样式是什么样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 改变坐标轴的默认显示方式</span><br>y = <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">14</span>, <span class="hljs-number">2</span>)<br>x = [-<span class="hljs-number">3</span>, -<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br><br>plt.plot(x,y)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941137.png" /></p>
<p>然后我们对这张图进行修改，获取图像之后设置四周边线，并且移动底边，移动到y轴的0位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 改变坐标轴的默认显示方式</span><br>y = <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">14</span>, <span class="hljs-number">2</span>)<br>x = [-<span class="hljs-number">3</span>, -<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br><br><span class="hljs-comment"># 获得当前图表的图像</span><br>ax = plt.gca()<br><br><span class="hljs-comment"># 设置图形四周的边线</span><br>ax.spines[<span class="hljs-string">&#x27;right&#x27;</span>].set_color(<span class="hljs-string">&#x27;none&#x27;</span>)<br>ax.spines[<span class="hljs-string">&#x27;top&#x27;</span>].set_color(<span class="hljs-string">&#x27;none&#x27;</span>)<br>ax.spines[<span class="hljs-string">&#x27;bottom&#x27;</span>].set_color(<span class="hljs-string">&#x27;blue&#x27;</span>)<br>ax.spines[<span class="hljs-string">&#x27;left&#x27;</span>].set_color(<span class="hljs-string">&#x27;red&#x27;</span>)<br><br><span class="hljs-comment"># 设置底边的移动范围，移动到y轴的0位置，`data`: 移动轴的位置到交叉轴的指定坐标</span><br>ax.spines[<span class="hljs-string">&#x27;bottom&#x27;</span>].set_position((<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-number">0</span>))<br>ax.spines[<span class="hljs-string">&#x27;left&#x27;</span>].set_position((<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-number">0</span>))<br><br>plt.plot(x,y)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p>代码中，我们使用<code>gca()</code>获取了图像赋值给变量<code>ax</code>，然后对其进行修改，<code>spines</code>可以修改四周边线，包括颜色和位置等。分别设置完颜色之后，我们分别对底边和左边使用了<code>set_position</code>进行了位移。移动到<code>0</code>点位置。那其实，底边对应的就是x轴，左边对应的就是y轴。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941138.png" /></p>
<h3 id="绘制散点图">绘制散点图</h3>
<p>我们拿到了一组数据，就是今年3月份每天的最高气温，现在我想在图表上进行展示。为了展示气温的分布，我们准备使用散点图进行展示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 绘制散点图</span><br>y = [<span class="hljs-number">11</span>,<span class="hljs-number">17</span>,<span class="hljs-number">16</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">12</span>,<span class="hljs-number">15</span>,<span class="hljs-number">14</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">21</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">20</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">15</span>,<span class="hljs-number">15</span>,<span class="hljs-number">19</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>, <span class="hljs-number">22</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>]<br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">32</span>)<br><br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>),dpi=<span class="hljs-number">80</span>)<br><span class="hljs-comment"># 使用scatter绘制散点图</span><br>plt.scatter(x, y, label=<span class="hljs-string">&#x27;3月份&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941139.png" /></p>
<p>本来这样就已经完成绘制了。不过我们看一下图表，虽然散点是绘制完成了，但是整张图上我们看不出太多信息，包括刻度值，月份等等，另外，我记得咱们之前加过图例，现在我们都加上：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> font_manager<br><span class="hljs-comment"># 绘制散点图</span><br>y = [<span class="hljs-number">11</span>,<span class="hljs-number">17</span>,<span class="hljs-number">16</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">12</span>,<span class="hljs-number">15</span>,<span class="hljs-number">14</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">21</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">20</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">15</span>,<span class="hljs-number">15</span>,<span class="hljs-number">19</span>,<span class="hljs-number">21</span>,<span class="hljs-number">22</span>, <span class="hljs-number">22</span>,<span class="hljs-number">22</span>,<span class="hljs-number">23</span>]<br>x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">32</span>)<br><br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>),dpi=<span class="hljs-number">80</span>)<br><span class="hljs-comment"># 使用scatter绘制散点图</span><br>plt.scatter(x, y, label=<span class="hljs-string">&#x27;3月份&#x27;</span>)<br><br>my_font = font_manager.FontProperties(fname=<span class="hljs-string">&#x27;/System/Library/Fonts/PingFang.ttc&#x27;</span>, size=<span class="hljs-number">12</span>)<br>_xticks_labels = [<span class="hljs-string">&#x27;3月&#123;&#125;日&#x27;</span>.<span class="hljs-built_in">format</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x]<br><br>plt.xticks(x[::<span class="hljs-number">3</span>], _xticks_labels[::<span class="hljs-number">3</span>], fontproperties=my_font, rotation=<span class="hljs-number">45</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;日期&#x27;</span>, fontproperties=my_font)<br>plt.ylabel(<span class="hljs-string">&#x27;温度&#x27;</span>, fontproperties=my_font)<br><br><span class="hljs-comment"># 图例</span><br>plt.legend(prop=my_font)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p>以上代码中的内容，基本都是咱们之前学过的内容，我就不多做解释了。其中，我们可以看到，<code>plt.</code>之后的方法就是绘制不同的图形，之前我们看到的<code>plot</code>是折线图，这次我们学到<code>scatter</code>是散点图。在图形绘制之后，剩下的就是对其进行修饰和设置。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941140.png" /></p>
<h3 id="绘制条形图">绘制条形图</h3>
<p>今天刷到一条新闻，说目前2023年暑期档电影的票房基本已经定型，目前全部累计票房已经超过2019年称为历史最高暑期档，而最引人瞩目的是，国产电影全线压制好莱坞大片。这真是一个值的骄傲的事情。那现在，我们就来展现一下暑期档电影票房的对比吧,我们一步一步来，最开始当然是拿到数据。</p>
<blockquote>
<p>本数据<a
target="_blank" rel="noopener" href="https://piaofang.maoyan.com/dashboard/movie?movieId=1374349">来源于猫眼</a>，2023年8月20日14:00的实时数据，后期未下线的电影数据可能会有变化。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-string">&#x27;消失的她&#x27;</span>,<span class="hljs-string">&#x27;碟中谍7:致命清算&#x27;</span>,<span class="hljs-string">&#x27;芭比&#x27;</span>,<span class="hljs-string">&#x27;八角笼中&#x27;</span>,<span class="hljs-string">&#x27;茶啊二中&#x27;</span>,<span class="hljs-string">&#x27;热烈&#x27;</span>,<span class="hljs-string">&#x27;长安三万里&#x27;</span>,<span class="hljs-string">&#x27;巨齿鲨2:深渊&#x27;</span>,<span class="hljs-string">&#x27;封神第一部&#x27;</span>,<span class="hljs-string">&#x27;孤注一掷&#x27;</span>]<br>b = [<span class="hljs-string">&#x27;35.22&#x27;</span>,<span class="hljs-string">&#x27;3.46&#x27;</span>,<span class="hljs-string">&#x27;2.47&#x27;</span>,<span class="hljs-string">&#x27;21.92&#x27;</span>,<span class="hljs-string">&#x27;3.66&#x27;</span>,<span class="hljs-string">&#x27;8.69&#x27;</span>,<span class="hljs-string">&#x27;17.56&#x27;</span>,<span class="hljs-string">&#x27;7.53&#x27;</span>,<span class="hljs-string">&#x27;22.36&#x27;</span>,<span class="hljs-string">&#x27;26.48&#x27;</span>]<br></code></pre></td></tr></table></figure>
<p>然后我们就可以开始绘制柱状图了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br>plt.bar(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)), [<span class="hljs-built_in">float</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> b], width=<span class="hljs-number">0.3</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941141.png" /></p>
<p>现在图形是绘制出来了，但是完全无法让人满意。我们并不知道哪个柱子是哪个电影的，并且对比之下，我们只能看出大概高低，并不知道具体的票房。那我们现在来进行修改,
先加上x轴和y轴上的刻度标识，并且将y轴刻度范围放大。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.xticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)), a, fontproperties=my_font)<br>plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">51</span>,<span class="hljs-number">5</span>), <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">51</span>,<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941142.png" /></p>
<p>目前的图我们是能看出谁是谁了，而且比起刚才看起来y轴上也舒服了很多，没有顶天立地。</p>
<p>接下来，我们继续修改。给柱子加上颜色，好做区分。并且将绘制的图形赋值给到变量<code>rects</code>，在下面我们好对每一根柱子上写一个数字，将票房数值写上去。这样，具体的票房我们就能一目了然。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-string">&#x27;消失的她&#x27;</span>,<span class="hljs-string">&#x27;碟中谍7:致命清算&#x27;</span>,<span class="hljs-string">&#x27;芭比&#x27;</span>,<span class="hljs-string">&#x27;八角笼中&#x27;</span>,<span class="hljs-string">&#x27;茶啊二中&#x27;</span>,<span class="hljs-string">&#x27;热烈&#x27;</span>,<span class="hljs-string">&#x27;长安三万里&#x27;</span>,<span class="hljs-string">&#x27;巨齿鲨2:深渊&#x27;</span>,<span class="hljs-string">&#x27;封神第一部&#x27;</span>,<span class="hljs-string">&#x27;孤注一掷&#x27;</span>]<br>b = [<span class="hljs-string">&#x27;35.22&#x27;</span>,<span class="hljs-string">&#x27;3.46&#x27;</span>,<span class="hljs-string">&#x27;2.47&#x27;</span>,<span class="hljs-string">&#x27;21.92&#x27;</span>,<span class="hljs-string">&#x27;3.66&#x27;</span>,<span class="hljs-string">&#x27;8.69&#x27;</span>,<span class="hljs-string">&#x27;17.56&#x27;</span>,<span class="hljs-string">&#x27;7.53&#x27;</span>,<span class="hljs-string">&#x27;22.36&#x27;</span>,<span class="hljs-string">&#x27;26.48&#x27;</span>]<br><br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br>rects = plt.bar(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)), [<span class="hljs-built_in">float</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> b], width=<span class="hljs-number">0.3</span>, color=[<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>])<br>plt.xticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)), a, fontproperties=my_font)<br>plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">51</span>,<span class="hljs-number">5</span>), <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">51</span>,<span class="hljs-number">5</span>))<br><br><span class="hljs-comment"># 加标注(水平居中)</span><br><span class="hljs-keyword">for</span> rect <span class="hljs-keyword">in</span> rects:<br>    height = rect.get_height()<br>    plt.text(rect.get_x()+rect.get_width() / <span class="hljs-number">2</span>, height+<span class="hljs-number">1</span>, <span class="hljs-built_in">str</span>(height), ha=<span class="hljs-string">&#x27;center&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p>这段代码中其他的都好理解，就是加标注这一段。我们使用<code>for</code>从<code>rects</code>中分别获取到每一根柱子，然后设定了一个高，这个高度就是柱子的实际高度。再设定一个<code>text</code>给到这根柱子，<code>text</code>的高度为柱子的定位为每根柱子的<code>x</code>轴位置+其宽度的二分之一，高度为柱子高度+1，
字符串为柱子高度本身，设置水平居中。</p>
<p>来，让我们看看效果：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941143.png" /></p>
<p>现在，我们的显示虽然还是不完美，但是已经非常清晰了。</p>
<p>当然，柱状图除了竖向的，还有横向，但是横向就不能称之为柱状图，而是条形图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 横向条形图</span><br>a = [<span class="hljs-string">&#x27;消失的她&#x27;</span>,<span class="hljs-string">&#x27;碟中谍7:致命清算&#x27;</span>,<span class="hljs-string">&#x27;芭比&#x27;</span>,<span class="hljs-string">&#x27;八角笼中&#x27;</span>,<span class="hljs-string">&#x27;茶啊二中&#x27;</span>,<span class="hljs-string">&#x27;热烈&#x27;</span>,<span class="hljs-string">&#x27;长安三万里&#x27;</span>,<span class="hljs-string">&#x27;巨齿鲨2:深渊&#x27;</span>,<span class="hljs-string">&#x27;封神第一部&#x27;</span>,<span class="hljs-string">&#x27;孤注一掷&#x27;</span>]<br>b = [<span class="hljs-string">&#x27;35.22&#x27;</span>,<span class="hljs-string">&#x27;3.46&#x27;</span>,<span class="hljs-string">&#x27;2.47&#x27;</span>,<span class="hljs-string">&#x27;21.92&#x27;</span>,<span class="hljs-string">&#x27;3.66&#x27;</span>,<span class="hljs-string">&#x27;8.69&#x27;</span>,<span class="hljs-string">&#x27;17.56&#x27;</span>,<span class="hljs-string">&#x27;7.53&#x27;</span>,<span class="hljs-string">&#x27;22.36&#x27;</span>,<span class="hljs-string">&#x27;26.48&#x27;</span>]<br><br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br>rects = plt.barh(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)), [<span class="hljs-built_in">float</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> b], height=<span class="hljs-number">0.5</span>, color=[<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>])<br>plt.xticks(<span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">51</span>,<span class="hljs-number">5</span>), <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">51</span>,<span class="hljs-number">5</span>))<br>plt.yticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)), a, rotation=<span class="hljs-number">45</span>, fontproperties=my_font)<br><br><span class="hljs-comment"># 加标注(水平居中)</span><br><span class="hljs-keyword">for</span> rect <span class="hljs-keyword">in</span> rects:<br>    width = rect.get_width()<br>    plt.text(width+<span class="hljs-number">1</span>, rect.get_y()+<span class="hljs-number">0.5</span>/<span class="hljs-number">2</span>, <span class="hljs-built_in">str</span>(width)+<span class="hljs-string">&#x27; 亿&#x27;</span>, va=<span class="hljs-string">&#x27;center&#x27;</span>, fontproperties=my_font)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941144.png" /></p>
<p>其方法和原理都和柱状图是一样的，不同的点就在于柱状图的方法是<code>bar</code>，横向条形图的方法为<code>barh</code>。另外，别忘了切换<code>x,y</code>轴。</p>
<blockquote>
<p><strong>在这里，恭喜《封神》破22亿，加油...</strong></p>
</blockquote>
<p>我们平时看到的柱状图或者条形图，一定不只是这样一根一根的，还有那种两根或两根以上并列的对吧？其形式也很简单，就是在当前的柱子旁边多加一根而已：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 多条并列</span><br>index = np.arange(<span class="hljs-number">4</span>)<br>BJ = [<span class="hljs-number">50</span>,<span class="hljs-number">55</span>,<span class="hljs-number">53</span>,<span class="hljs-number">60</span>]<br>SH = [<span class="hljs-number">44</span>,<span class="hljs-number">66</span>,<span class="hljs-number">55</span>,<span class="hljs-number">41</span>]<br><span class="hljs-comment"># 并列</span><br>plt.bar(index,BJ, width=<span class="hljs-number">0.3</span>)<br>plt.bar(index+<span class="hljs-number">0.3</span>, SH, width=<span class="hljs-number">0.3</span>, color=<span class="hljs-string">&#x27;green&#x27;</span>)<br><br>plt.xticks(index+<span class="hljs-number">0.3</span>/<span class="hljs-number">2</span>, index)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941145.png" /></p>
<h3 id="直方图">直方图</h3>
<p>这个图形的学习，我们还是拿电影数据来做，但是这次我们不拿刚才用过的数据了，我们拿到一个250部电影的时长数据，现在我们要统计处这些电影时长的分布状态。（比如，市场为100分钟到120分钟的电影数量，出现频率等），我们该如何去做呢？</p>
<p>来，让咱们尝试一下，还是老样子，先落位数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">times = [<span class="hljs-number">131</span>,<span class="hljs-number">98</span>,<span class="hljs-number">125</span>,<span class="hljs-number">131</span>,<span class="hljs-number">124</span>,<span class="hljs-number">139</span>,<span class="hljs-number">131</span>,<span class="hljs-number">117</span>,<span class="hljs-number">128</span>,<span class="hljs-number">108</span>,<span class="hljs-number">135</span>,<span class="hljs-number">138</span>,<span class="hljs-number">131</span>,<span class="hljs-number">102</span>,<span class="hljs-number">107</span>,<span class="hljs-number">114</span>,<span class="hljs-number">119</span>,<span class="hljs-number">128</span>,<span class="hljs-number">121</span>,<span class="hljs-number">142</span>,<span class="hljs-number">127</span>,<span class="hljs-number">130</span>,<span class="hljs-number">124</span>,<span class="hljs-number">101</span>,<span class="hljs-number">110</span>,<span class="hljs-number">116</span>,<span class="hljs-number">117</span>,<span class="hljs-number">110</span>,<span class="hljs-number">128</span>,<span class="hljs-number">128</span>,<span class="hljs-number">115</span>,<span class="hljs-number">99</span>,<span class="hljs-number">95</span>,<span class="hljs-number">138</span>,<span class="hljs-number">117</span>,<span class="hljs-number">111</span>,<span class="hljs-number">78</span>,<span class="hljs-number">132</span>,<span class="hljs-number">124</span>,<span class="hljs-number">113</span>,<span class="hljs-number">150</span>,<span class="hljs-number">110</span>,<span class="hljs-number">117</span>,<span class="hljs-number">136</span>,<span class="hljs-number">126</span>,<span class="hljs-number">134</span>,<span class="hljs-number">95</span>,<span class="hljs-number">144</span>,<span class="hljs-number">105</span>,<span class="hljs-number">126</span>,<span class="hljs-number">130</span>,<span class="hljs-number">126</span>,<span class="hljs-number">130</span>,<span class="hljs-number">126</span>,<span class="hljs-number">116</span>,<span class="hljs-number">123</span>,<span class="hljs-number">106</span>,<span class="hljs-number">112</span>,<span class="hljs-number">138</span>,<span class="hljs-number">123</span>,<span class="hljs-number">99</span>,<span class="hljs-number">136</span>,<span class="hljs-number">123</span>,<span class="hljs-number">117</span>,<span class="hljs-number">119</span>,<span class="hljs-number">105</span>,<span class="hljs-number">137</span>,<span class="hljs-number">123</span>,<span class="hljs-number">128</span>,<span class="hljs-number">125</span>,<span class="hljs-number">104</span>,<span class="hljs-number">109</span>,<span class="hljs-number">134</span>,<span class="hljs-number">125</span>,<span class="hljs-number">127</span>,<span class="hljs-number">105</span>,<span class="hljs-number">120</span>,<span class="hljs-number">107</span>,<span class="hljs-number">129</span>,<span class="hljs-number">116</span>,<span class="hljs-number">108</span>,<span class="hljs-number">132</span>,<span class="hljs-number">103</span>,<span class="hljs-number">136</span>,<span class="hljs-number">118</span>,<span class="hljs-number">102</span>,<span class="hljs-number">120</span>,<span class="hljs-number">114</span>,<span class="hljs-number">105</span>,<span class="hljs-number">115</span>,<span class="hljs-number">132</span>,<span class="hljs-number">145</span>,<span class="hljs-number">119</span>,<span class="hljs-number">121</span>,<span class="hljs-number">112</span>,<span class="hljs-number">139</span>,<span class="hljs-number">125</span>,<span class="hljs-number">138</span>,<span class="hljs-number">109</span>,<span class="hljs-number">132</span>,<span class="hljs-number">134</span>,<span class="hljs-number">156</span>,<span class="hljs-number">106</span>,<span class="hljs-number">117</span>,<span class="hljs-number">127</span>,<span class="hljs-number">144</span>,<span class="hljs-number">139</span>,<span class="hljs-number">139</span>,<span class="hljs-number">119</span>,<span class="hljs-number">140</span>,<span class="hljs-number">83</span>,<span class="hljs-number">110</span>,<span class="hljs-number">102</span>,<span class="hljs-number">123</span>,<span class="hljs-number">107</span>,<span class="hljs-number">143</span>,<span class="hljs-number">115</span>,<span class="hljs-number">136</span>,<span class="hljs-number">118</span>,<span class="hljs-number">139</span>,<span class="hljs-number">123</span>,<span class="hljs-number">112</span>,<span class="hljs-number">118</span>,<span class="hljs-number">125</span>,<span class="hljs-number">109</span>,<span class="hljs-number">119</span>,<span class="hljs-number">133</span>,<span class="hljs-number">112</span>,<span class="hljs-number">114</span>,<span class="hljs-number">122</span>,<span class="hljs-number">109</span>,<span class="hljs-number">106</span>,<span class="hljs-number">123</span>,<span class="hljs-number">116</span>,<span class="hljs-number">131</span>,<span class="hljs-number">127</span>,<span class="hljs-number">115</span>,<span class="hljs-number">118</span>,<span class="hljs-number">112</span>,<span class="hljs-number">135</span>,<span class="hljs-number">115</span>,<span class="hljs-number">146</span>,<span class="hljs-number">137</span>,<span class="hljs-number">116</span>,<span class="hljs-number">103</span>,<span class="hljs-number">144</span>,<span class="hljs-number">83</span>,<span class="hljs-number">123</span>,<span class="hljs-number">111</span>,<span class="hljs-number">110</span>,<span class="hljs-number">111</span>,<span class="hljs-number">100</span>,<span class="hljs-number">154</span>,<span class="hljs-number">136</span>,<span class="hljs-number">100</span>,<span class="hljs-number">118</span>,<span class="hljs-number">119</span>,<span class="hljs-number">133</span>,<span class="hljs-number">134</span>,<span class="hljs-number">106</span>,<span class="hljs-number">129</span>,<span class="hljs-number">126</span>,<span class="hljs-number">110</span>,<span class="hljs-number">111</span>,<span class="hljs-number">109</span>,<span class="hljs-number">141</span>,<span class="hljs-number">120</span>,<span class="hljs-number">117</span>,<span class="hljs-number">106</span>,<span class="hljs-number">149</span>,<span class="hljs-number">122</span>,<span class="hljs-number">122</span>,<span class="hljs-number">110</span>,<span class="hljs-number">118</span>,<span class="hljs-number">127</span>,<span class="hljs-number">121</span>,<span class="hljs-number">114</span>,<span class="hljs-number">125</span>,<span class="hljs-number">126</span>,<span class="hljs-number">114</span>,<span class="hljs-number">140</span>,<span class="hljs-number">103</span>,<span class="hljs-number">130</span>,<span class="hljs-number">141</span>,<span class="hljs-number">117</span>,<span class="hljs-number">106</span>,<span class="hljs-number">114</span>,<span class="hljs-number">121</span>,<span class="hljs-number">114</span>,<span class="hljs-number">133</span>,<span class="hljs-number">137</span>,<span class="hljs-number">92</span>,<span class="hljs-number">121</span>,<span class="hljs-number">112</span>,<span class="hljs-number">146</span>,<span class="hljs-number">97</span>,<span class="hljs-number">137</span>,<span class="hljs-number">105</span>,<span class="hljs-number">98</span>,<span class="hljs-number">117</span>,<span class="hljs-number">112</span>,<span class="hljs-number">81</span>,<span class="hljs-number">97</span>,<span class="hljs-number">139</span>,<span class="hljs-number">113</span>,<span class="hljs-number">134</span>,<span class="hljs-number">106</span>,<span class="hljs-number">144</span>,<span class="hljs-number">110</span>,<span class="hljs-number">137</span>,<span class="hljs-number">137</span>,<span class="hljs-number">111</span>,<span class="hljs-number">104</span>,<span class="hljs-number">117</span>,<span class="hljs-number">100</span>,<span class="hljs-number">111</span>,<span class="hljs-number">101</span>,<span class="hljs-number">110</span>,<span class="hljs-number">105</span>,<span class="hljs-number">129</span>,<span class="hljs-number">137</span>,<span class="hljs-number">112</span>,<span class="hljs-number">120</span>,<span class="hljs-number">113</span>,<span class="hljs-number">133</span>,<span class="hljs-number">112</span>,<span class="hljs-number">83</span>,<span class="hljs-number">94</span>,<span class="hljs-number">146</span>,<span class="hljs-number">133</span>,<span class="hljs-number">101</span>,<span class="hljs-number">131</span>,<span class="hljs-number">116</span>,<span class="hljs-number">111</span>,<span class="hljs-number">84</span>,<span class="hljs-number">137</span>,<span class="hljs-number">115</span>,<span class="hljs-number">122</span>,<span class="hljs-number">106</span>,<span class="hljs-number">144</span>,<span class="hljs-number">109</span>,<span class="hljs-number">123</span>,<span class="hljs-number">116</span>,<span class="hljs-number">111</span>,<span class="hljs-number">111</span>,<span class="hljs-number">133</span>,<span class="hljs-number">150</span>,<span class="hljs-number">134</span>,<span class="hljs-number">76</span>,<span class="hljs-number">104</span>] <br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(times))<br><br>---<br><span class="hljs-number">250</span><br></code></pre></td></tr></table></figure>
<p>没问题，250个数据齐了。现在让我们来开始绘图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)<br><span class="hljs-comment"># 设置组距</span><br>distance = <span class="hljs-number">2</span><br><span class="hljs-comment"># 计算组距</span><br>group_num = <span class="hljs-built_in">int</span>((<span class="hljs-built_in">max</span>(times) - <span class="hljs-built_in">min</span>(times)) / distance)<br>plt.hist(times, bins=group_num)<br><br>plt.xticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">min</span>(times), <span class="hljs-built_in">max</span>(times))[::<span class="hljs-number">2</span>])<br>plt.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, alpha=<span class="hljs-number">0.5</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;电影时长大小&#x27;</span>, fontproperties=my_font)<br>plt.ylabel(<span class="hljs-string">&#x27;电影的数据量&#x27;</span>, fontproperties=my_font)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p>从代码中看，直方图的方法是<code>hist</code>,
其中参数为需要展示的数据和组距。</p>
<p>x轴刻度上，我们将最小的电影时长和最大的电影时长顺序分布，步进值为2。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941146.png" /></p>
<p>现在我们从图中能看到，<code>110 ～ 112</code>这个时间段的电影数量是最多的，其次就是<code>116 ~ 118</code>分钟的。</p>
<p>现在，我们更清晰的感受了i库55起1422</p>
<p>直方图的作用。</p>
<h3 id="饼状图">饼状图</h3>
<p>最后我们来看看饼状图，饼状图相信大家平时看的也很多。基本上，我们遇到比例，份额对比的时候会使用这个图形。</p>
<p>来，让我们先绘制一个基本图形：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">size = [<span class="hljs-number">55</span>, <span class="hljs-number">35</span>, <span class="hljs-number">10</span>]  <span class="hljs-comment"># 各部分大小</span><br><br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">100</span>)<br>plt.pie(size)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941147.png" /></p>
<p>现在让我们在这个基础的饼状图上进行设置和修改，首先，我们需要这个图形各个区域都有个名称，然后是我们自己设定下他们的颜色，而不是用默认的，接着，我们需要将其中一部分突出显示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 修改生成饼图代码</span><br>plt.pie(size, <br>        explode=[<span class="hljs-number">0</span>, <span class="hljs-number">0.05</span>, <span class="hljs-number">0</span>],<br>        colors = [<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>],<br>        labels = [<span class="hljs-string">&#x27;第一部分&#x27;</span>,<span class="hljs-string">&#x27;第二部分&#x27;</span>,<span class="hljs-string">&#x27;第三部分&#x27;</span>])<br></code></pre></td></tr></table></figure>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941148.png" /></p>
<p>现在是按照我刚才希望的去变化了，但是并不让人满意。我们需要将文字设置成中文显示，然后整个图形旋转一下，让突出的部分部要向下，接着我们希望显示出百分比，并且有一个图例，分别标识出颜色和区域的文字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python">size = [<span class="hljs-number">55</span>, <span class="hljs-number">35</span>, <span class="hljs-number">10</span>]  <span class="hljs-comment"># 各部分大小</span><br><br>plt.figure(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">8</span>), dpi=<span class="hljs-number">100</span>)<br><br>label_list = [<span class="hljs-string">&#x27;第一部分&#x27;</span>,<span class="hljs-string">&#x27;第二部分&#x27;</span>,<span class="hljs-string">&#x27;第三部分&#x27;</span>] <span class="hljs-comment"># 各部分标签</span><br>color = [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>] <span class="hljs-comment"># 各部分颜色</span><br>explode = [<span class="hljs-number">0</span>, <span class="hljs-number">0.05</span>, <span class="hljs-number">0</span>] <span class="hljs-comment"># 各部分突出值</span><br>patches, l_text, p_text = plt.pie(size,<br>                                  explode = explode,<br>                                  colors = color,<br>                                  labels = label_list,<br>                                  labeldistance=<span class="hljs-number">1.1</span>,<br>                                  autopct=<span class="hljs-string">&#x27;%1.1f%%&#x27;</span>,<br>                                  shadow=<span class="hljs-literal">False</span>,<br>                                  startangle=<span class="hljs-number">150</span>,<br>                                  pctdistance=<span class="hljs-number">0.6</span>)<br><br><span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> l_text:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">dir</span>(t))<br>    t.set_fontproperties(my_font)<br><span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> p_text:<br>    t.set_size(<span class="hljs-number">18</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> patches:<br>    i.set_color(<span class="hljs-string">&#x27;pink&#x27;</span>)<br>    <span class="hljs-keyword">break</span><br><br>plt.legend(prop=my_font)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p>我们在这段代码中，将之前在<code>pie</code>方法中的三组列表数据拿出来赋值给了三个变量，然后增加了一些其他参数用于标签距离、设置旋转、百分比距离等。</p>
<p>然后将生成的图赋值给到三个变量，<code>patches, l_text, p_text</code>，这三个变量分别接受的参数为「饼的区域」、「饼的外部说明文字」、「饼的内部标识文字」。</p>
<p>然后，对这三个变量分别进行设置。</p>
<p>最后，将图例的字体设置一下，然后显示出来。</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941149.png" /></p>
<h2 id="总结">总结</h2>
<p>今天的课程到这里也就结束了。最后让我们来总结一下</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941150.png" /></p>
<p>最后，我们留个作业吧，好久没留作业了。将咱们之前做的这个饼图加上阴影，扩大分离的那块区域的分离距离。如图：</p>
<p><img
src="https://cdn.jsdelivr.net/gh/hivandu/notes/img/202311251941151.png" /></p>
<p>小伙伴们，记得认真学习并且完成作业。</p>
<p>好，下课。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>25. matplotlib</p><p><a href="https://hivan.me/AI-Python-matplotlib/">https://hivan.me/AI-Python-matplotlib/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Hivan Du</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2023-08-19</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-11-25</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Python/">Python</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=6479444288ae9600196fa98e&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" href="/null" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>爱发电</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://qiniu.hivan.me/picGo/20230601221633.jpeg" alt="支付宝"></span></a><a class="button donate" href="/null" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>送我杯咖啡</span></a><a class="button donate" href="/null" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="doo@hivan.me"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://qiniu.hivan.me/IMG_4603.JPG" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/AI-Python-numpy/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">26. NumPy</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/Decorator-syntax-and-application/"><span class="level-item">24. 装饰器语法与应用</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://hivan.me/AI-Python-matplotlib/';
            this.page.identifier = 'AI-Python-matplotlib/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'hivan' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://www.gravatar.com/avatar/bdff168cf8a71c11d2712a1679a00c54?s=128" alt="茶桁"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">茶桁</p><p class="is-size-6 is-block">AI游民</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shang Hai</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">200</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">22</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/hivandu" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hivandu"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com/hivan"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/hivan"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com/hivan"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA4NzE4MDQzMg==&amp;action=getalbum&amp;album_id=2932504849574543360&amp;scene=173&amp;from_msgid=2648747980&amp;from_itemidx=1&amp;count=3&amp;nolastread=1&amp;token=1758883909&amp;lang=zh_CN#wechat_redirect"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.zhihu.com/column/c_1424326166602178560" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">塌缩的奇点</span></span><span class="level-right"><span class="level-item tag">www.zhihu.com</span></span></a></li><li><a class="level is-mobile" href="https://www.zhihu.com/column/hivandu" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">茶桁-知乎</span></span><span class="level-right"><span class="level-item tag">www.zhihu.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI%E7%A7%98%E7%B1%8D/"><span class="level-start"><span class="level-item">AI秘籍</span></span><span class="level-end"><span class="level-item tag">58</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI%E7%A7%98%E7%B1%8D/Math/"><span class="level-start"><span class="level-item">Math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/AI%E7%A7%98%E7%B1%8D/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/categories/AI%E7%A7%98%E7%B1%8D/%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B%E5%9F%BA%E7%A1%80/"><span class="level-start"><span class="level-item">核心能力基础</span></span><span class="level-end"><span class="level-item tag">29</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%8E%A5%E8%A7%A6%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%A4%A7%E6%A8%A1%E5%9E%8B/"><span class="level-start"><span class="level-item">从零开始接触人工智能大模型</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-12T23:30:00.000Z">2023-12-13</time></p><p class="title"><a href="/29.%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%20-%20%E5%8D%B7%E7%A7%AF%E7%9A%84%E5%8E%9F%E7%90%86/">29. 深度学习进阶 - 卷积的原理</a></p><p class="categories"><a href="/categories/AI%E7%A7%98%E7%B1%8D/">AI秘籍</a> / <a href="/categories/AI%E7%A7%98%E7%B1%8D/%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B%E5%9F%BA%E7%A1%80/">核心能力基础</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-09T23:30:00.000Z">2023-12-10</time></p><p class="title"><a href="/28.%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%20-%20LSTM/">28. 深度学习进阶 - LSTM</a></p><p class="categories"><a href="/categories/AI%E7%A7%98%E7%B1%8D/">AI秘籍</a> / <a href="/categories/AI%E7%A7%98%E7%B1%8D/%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B%E5%9F%BA%E7%A1%80/">核心能力基础</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-05T23:30:00.000Z">2023-12-06</time></p><p class="title"><a href="/27.%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%20-%20%E4%B8%BA%E4%BB%80%E4%B9%88RNN/">27. 深度学习进阶 - 为什么RNN</a></p><p class="categories"><a href="/categories/AI%E7%A7%98%E7%B1%8D/">AI秘籍</a> / <a href="/categories/AI%E7%A7%98%E7%B1%8D/%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B%E5%9F%BA%E7%A1%80/">核心能力基础</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-01T23:30:00.000Z">2023-12-02</time></p><p class="title"><a href="/26.%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%20-%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95/">26. 深度学习进阶 - 深度学习的优化方法</a></p><p class="categories"><a href="/categories/AI%E7%A7%98%E7%B1%8D/">AI秘籍</a> / <a href="/categories/AI%E7%A7%98%E7%B1%8D/%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B%E5%9F%BA%E7%A1%80/">核心能力基础</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-28T23:30:00.000Z">2023-11-29</time></p><p class="title"><a href="/25.%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6%20-%20%E6%9D%83%E9%87%8D%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8C%E6%A2%AF%E5%BA%A6%E6%B6%88%E5%A4%B1%E5%92%8C%E6%A2%AF%E5%BA%A6%E7%88%86%E7%82%B8/">25. 深度学习进阶 - 权重初始化，梯度消失和梯度爆炸</a></p><p class="categories"><a href="/categories/AI%E7%A7%98%E7%B1%8D/">AI秘籍</a> / <a href="/categories/AI%E7%A7%98%E7%B1%8D/%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B%E5%9F%BA%E7%A1%80/">核心能力基础</a></p></div></article></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="茶桁.MAMT" height="28"></a><p class="is-size-7"><span>&copy; 2023 Hivan Du</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hivandu"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>